\doxysection{cuda\+\_\+occupancy.\+h}
\hypertarget{cuda__occupancy_8h_source}{}\label{cuda__occupancy_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ Copyright\ 1993-\/2017\ NVIDIA\ Corporation.\ \ All\ rights\ reserved.}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ NOTICE\ TO\ LICENSEE:}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ This\ source\ code\ and/or\ documentation\ ("{}Licensed\ Deliverables"{})\ are}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ subject\ to\ NVIDIA\ intellectual\ property\ rights\ under\ U.S.\ and}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ international\ Copyright\ laws.}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ These\ Licensed\ Deliverables\ contained\ herein\ is\ PROPRIETARY\ and}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ CONFIDENTIAL\ to\ NVIDIA\ and\ is\ being\ provided\ under\ the\ terms\ and}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ conditions\ of\ a\ form\ of\ NVIDIA\ software\ license\ agreement\ by\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ between\ NVIDIA\ and\ Licensee\ ("{}License\ Agreement"{})\ or\ electronically}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ accepted\ by\ Licensee.\ \ Notwithstanding\ any\ terms\ or\ conditions\ to}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ the\ contrary\ in\ the\ License\ Agreement,\ reproduction\ or\ disclosure}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ of\ the\ Licensed\ Deliverables\ to\ any\ third\ party\ without\ the\ express}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ written\ consent\ of\ NVIDIA\ is\ prohibited.}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ NOTWITHSTANDING\ ANY\ TERMS\ OR\ CONDITIONS\ TO\ THE\ CONTRARY\ IN\ THE}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ LICENSE\ AGREEMENT,\ NVIDIA\ MAKES\ NO\ REPRESENTATION\ ABOUT\ THE}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ SUITABILITY\ OF\ THESE\ LICENSED\ DELIVERABLES\ FOR\ ANY\ PURPOSE.\ \ IT\ IS}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ PROVIDED\ "{}AS\ IS"{}\ WITHOUT\ EXPRESS\ OR\ IMPLIED\ WARRANTY\ OF\ ANY\ KIND.}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ NVIDIA\ DISCLAIMS\ ALL\ WARRANTIES\ WITH\ REGARD\ TO\ THESE\ LICENSED}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ DELIVERABLES,\ INCLUDING\ ALL\ IMPLIED\ WARRANTIES\ OF\ MERCHANTABILITY,}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ NONINFRINGEMENT,\ AND\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ NOTWITHSTANDING\ ANY\ TERMS\ OR\ CONDITIONS\ TO\ THE\ CONTRARY\ IN\ THE}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ LICENSE\ AGREEMENT,\ IN\ NO\ EVENT\ SHALL\ NVIDIA\ BE\ LIABLE\ FOR\ ANY}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ SPECIAL,\ INDIRECT,\ INCIDENTAL,\ OR\ CONSEQUENTIAL\ DAMAGES,\ OR\ ANY}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *\ DAMAGES\ WHATSOEVER\ RESULTING\ FROM\ LOSS\ OF\ USE,\ DATA\ OR\ PROFITS,}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ *\ WHETHER\ IN\ AN\ ACTION\ OF\ CONTRACT,\ NEGLIGENCE\ OR\ OTHER\ TORTIOUS}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ *\ ACTION,\ ARISING\ OUT\ OF\ OR\ IN\ CONNECTION\ WITH\ THE\ USE\ OR\ PERFORMANCE}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *\ OF\ THESE\ LICENSED\ DELIVERABLES.}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ *\ U.S.\ Government\ End\ Users.\ \ These\ Licensed\ Deliverables\ are\ a}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *\ "{}commercial\ item"{}\ as\ that\ term\ is\ defined\ at\ 48\ C.F.R.\ 2.101\ (OCT}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *\ 1995),\ consisting\ of\ "{}commercial\ computer\ software"{}\ and\ "{}commercial}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ *\ computer\ software\ documentation"{}\ as\ such\ terms\ are\ used\ in\ 48}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ *\ C.F.R.\ 12.212\ (SEPT\ 1995)\ and\ is\ provided\ to\ the\ U.S.\ Government}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ *\ only\ as\ a\ commercial\ end\ item.\ \ Consistent\ with\ 48\ C.F.R.12.212\ and}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ *\ 48\ C.F.R.\ 227.7202-\/1\ through\ 227.7202-\/4\ (JUNE\ 1995),\ all}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ *\ U.S.\ Government\ End\ Users\ acquire\ the\ Licensed\ Deliverables\ with}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ *\ only\ those\ rights\ set\ forth\ herein.}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ *\ Any\ use\ of\ the\ Licensed\ Deliverables\ in\ individual\ and\ commercial}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ *\ software\ must\ include,\ in\ the\ user\ documentation\ and\ internal}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ *\ comments\ to\ the\ code,\ the\ above\ Disclaimer\ and\ U.S.\ Government\ End}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ *\ Users\ Notice.}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#ifndef\ \_\_cuda\_occupancy\_h\_\_}}
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\#define\ \_\_cuda\_occupancy\_h\_\_}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#include\ <limits.h>}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{comment}{//\ \_\_OCC\_INLINE\ will\ be\ undefined\ at\ the\ end\ of\ this\ header}}
\DoxyCodeLine{00098\ \textcolor{comment}{//}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\#ifdef\ \_\_CUDACC\_\_}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#define\ \_\_OCC\_INLINE\ inline\ \_\_host\_\_\ \_\_device\_\_}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#elif\ defined\ \_MSC\_VER}}
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#define\ \_\_OCC\_INLINE\ \_\_inline}}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ GNUCC\ assumed}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#define\ \_\_OCC\_INLINE\ inline}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{enum}\ cudaOccError\_enum\ \{}
\DoxyCodeLine{00108\ \ \ \ \ CUDA\_OCC\_SUCCESS\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0,\ \ \textcolor{comment}{//\ no\ error\ encountered}}
\DoxyCodeLine{00109\ \ \ \ \ CUDA\_OCC\_ERROR\_INVALID\_INPUT\ \ =\ 1,\ \ \textcolor{comment}{//\ input\ parameter\ is\ invalid}}
\DoxyCodeLine{00110\ \ \ \ \ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE\ =\ 2,\ \ \textcolor{comment}{//\ requested\ device\ is\ not\ supported\ in}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ current\ implementation\ or\ device\ is}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ invalid}}
\DoxyCodeLine{00113\ \};}
\DoxyCodeLine{00114\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ cudaOccError\_enum\ \ \ \ \ \ \ cudaOccError;}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}};}
\DoxyCodeLine{00117\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}};}
\DoxyCodeLine{00118\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}};}
\DoxyCodeLine{00119\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00143\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE}
\DoxyCodeLine{00144\ cudaOccError\ cudaOccMaxActiveBlocksPerMultiprocessor(}
\DoxyCodeLine{00145\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ out}}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSize}});\ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00190\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE}
\DoxyCodeLine{00191\ cudaOccError\ cudaOccMaxPotentialOccupancyBlockSize(}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}},\ \ \ \ \ \ \textcolor{comment}{//\ out}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ \ \ \ \ \ \ \ \textcolor{comment}{//\ out}}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToDynamicSMemSize}})(\textcolor{keywordtype}{int}),\ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}});\ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#if\ defined(\_\_cplusplus)}}
\DoxyCodeLine{00238\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \_\_OCC\_INLINE}
\DoxyCodeLine{00241\ cudaOccError\ cudaOccMaxPotentialOccupancyBlockSize(}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}},\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ out}}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ out}}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}}\ =\ 0);\ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UnaryFunction>}
\DoxyCodeLine{00250\ \_\_OCC\_INLINE}
\DoxyCodeLine{00251\ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{cudaOccMaxPotentialOccupancyBlockSizeVariableSMem}}(}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}},\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ out}}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ out}}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00257\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{UnaryFunction}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToDynamicSMemSize}});\ \textcolor{comment}{//\ in}}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \}\ \textcolor{comment}{//\ namespace\ anonymous}}
\DoxyCodeLine{00260\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ defined(\_\_cplusplus)}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00280\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE}
\DoxyCodeLine{00281\ cudaOccError\ cudaOccAvailableDynamicSMemPerBlock(}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSize}},}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{00286\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}},}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}});}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00302\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \{}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ computeMajor;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Compute\ capability\ major\ version}}
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ computeMinor;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Compute\ capability\ minor}}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ version.\ None\ supported\ minor\ version}}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ may\ cause\ error}}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ maxThreadsPerBlock;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Maximum\ number\ of\ threads\ per\ block}}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ maxThreadsPerMultiprocessor;\ \textcolor{comment}{//\ Maximum\ number\ of\ threads\ per\ SM}}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ i.e.\ (Max.\ number\ of\ warps)\ x\ (warp}}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ size)}}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ regsPerBlock;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Maximum\ number\ of\ registers\ per\ block}}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ regsPerMultiprocessor;\ \ \ \ \ \ \ \textcolor{comment}{//\ Maximum\ number\ of\ registers\ per\ SM}}
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ warpSize;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Warp\ size}}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sharedMemPerBlock;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Maximum\ shared\ memory\ size\ per\ block}}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sharedMemPerMultiprocessor;\ \ \textcolor{comment}{//\ Maximum\ shared\ memory\ size\ per\ SM}}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ numSms;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Number\ of\ SMs\ available}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sharedMemPerBlockOptin;\ \ \ \ \ \ \textcolor{comment}{//\ Maximum\ optin\ shared\ memory\ size\ per\ block}}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ reservedSharedMemPerBlock;\ \ \ \textcolor{comment}{//\ Shared\ memory\ per\ block\ reserved\ by\ driver}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{comment}{//\ This\ structure\ can\ be\ converted\ from\ a\ cudaDeviceProp\ structure\ for\ users}}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{comment}{//\ that\ use\ this\ header\ in\ their\ CUDA\ applications.}}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{comment}{//\ If\ the\ application\ have\ access\ to\ the\ CUDA\ Runtime\ API,\ the\ application}}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//\ can\ obtain\ the\ device\ properties\ of\ a\ CUDA\ device\ through}}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{comment}{//\ cudaGetDeviceProperties,\ and\ initialize\ a\ cudaOccDeviceProp\ with\ the}}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{comment}{//\ cudaDeviceProp\ structure.}}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{comment}{//\ Example:}}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00331\ \textcolor{comment}{\ \ \ \ \ \{}}
\DoxyCodeLine{00332\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ cudaDeviceProp\ prop;}}
\DoxyCodeLine{00333\ \textcolor{comment}{}}
\DoxyCodeLine{00334\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ cudaGetDeviceProperties(\&prop,\ ...);}}
\DoxyCodeLine{00335\ \textcolor{comment}{}}
\DoxyCodeLine{00336\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ cudaOccDeviceProp\ occProp\ =\ prop;}}
\DoxyCodeLine{00337\ \textcolor{comment}{}}
\DoxyCodeLine{00338\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ ...}}
\DoxyCodeLine{00339\ \textcolor{comment}{}}
\DoxyCodeLine{00340\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ cudaOccMaxPotentialOccupancyBlockSize(...,\ \&occProp,\ ...);}}
\DoxyCodeLine{00341\ \textcolor{comment}{\ \ \ \ \ \}}}
\DoxyCodeLine{00342\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ DeviceProp>}
\DoxyCodeLine{00345\ \ \ \ \ \_\_OCC\_INLINE}
\DoxyCodeLine{00346\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{DeviceProp}}\ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}})}
\DoxyCodeLine{00347\ \ \ \ \ :\ \ \ computeMajor\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.major),}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ computeMinor\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.minor),}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ maxThreadsPerBlock\ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.maxThreadsPerBlock),}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ maxThreadsPerMultiprocessor\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.maxThreadsPerMultiProcessor),}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ regsPerBlock\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.regsPerBlock),}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ regsPerMultiprocessor\ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.regsPerMultiprocessor),}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ warpSize\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.warpSize),}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ sharedMemPerBlock\ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.sharedMemPerBlock),}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ sharedMemPerMultiprocessor\ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.sharedMemPerMultiprocessor),}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ numSms\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.multiProcessorCount),}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ sharedMemPerBlockOptin\ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.sharedMemPerBlockOptin),}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ reservedSharedMemPerBlock\ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{props}}.reservedSharedMemPerBlock)}
\DoxyCodeLine{00359\ \ \ \ \ \{\}}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ \ \ \_\_OCC\_INLINE}
\DoxyCodeLine{00362\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}()}
\DoxyCodeLine{00363\ \ \ \ \ :\ \ \ computeMajor\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ computeMinor\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ maxThreadsPerBlock\ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ maxThreadsPerMultiprocessor\ (0),}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ regsPerBlock\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ regsPerMultiprocessor\ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ warpSize\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ sharedMemPerBlock\ \ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ sharedMemPerMultiprocessor\ \ (0),}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ numSms\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ sharedMemPerBlockOptin\ \ \ \ \ \ (0),}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ reservedSharedMemPerBlock\ \ \ (0)}
\DoxyCodeLine{00375\ \ \ \ \ \{\}}
\DoxyCodeLine{00376\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_cplusplus}}
\DoxyCodeLine{00377\ \};}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00382\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ cudaOccPartitionedGCConfig\_enum\ \{}
\DoxyCodeLine{00383\ \ \ \ \ PARTITIONED\_GC\_OFF,\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Disable\ partitioned\ global\ caching}}
\DoxyCodeLine{00384\ \ \ \ \ PARTITIONED\_GC\_ON,\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Prefer\ partitioned\ global\ caching}}
\DoxyCodeLine{00385\ \ \ \ \ PARTITIONED\_GC\_ON\_STRICT\ \ \ \textcolor{comment}{//\ Force\ partitioned\ global\ caching}}
\DoxyCodeLine{00386\ \}\ cudaOccPartitionedGCConfig;}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00391\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ cudaOccFuncShmemConfig\_enum\ \{}
\DoxyCodeLine{00392\ \ \ \ \ FUNC\_SHMEM\_LIMIT\_DEFAULT,\ \ \ \textcolor{comment}{//\ Default\ shmem\ limit}}
\DoxyCodeLine{00393\ \ \ \ \ FUNC\_SHMEM\_LIMIT\_OPTIN,\ \ \ \ \ \textcolor{comment}{//\ Use\ the\ optin\ shmem\ limit}}
\DoxyCodeLine{00394\ \}\ cudaOccFuncShmemConfig;}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00401\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keywordtype}{int}\ maxThreadsPerBlock;\ \textcolor{comment}{//\ Maximum\ block\ size\ the\ function\ can\ work\ with.\ If}}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ unlimited,\ use\ INT\_MAX\ or\ any\ value\ greater\ than}}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ or\ equal\ to\ maxThreadsPerBlock\ of\ the\ device}}
\DoxyCodeLine{00405\ \ \ \ \ \textcolor{keywordtype}{int}\ numRegs;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Number\ of\ registers\ used.\ When\ the\ function\ is}}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ launched\ on\ device,\ the\ register\ count\ may\ change}}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ due\ to\ internal\ tools\ requirements.}}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sharedSizeBytes;\ \textcolor{comment}{//\ Number\ of\ static\ shared\ memory\ used}}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \ \ \ \ cudaOccPartitionedGCConfig\ partitionedGCConfig;\ }
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Partitioned\ global\ caching\ is\ required\ to\ enable}}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ caching\ on\ certain\ chips,\ such\ as\ sm\_52}}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ devices.\ Partitioned\ global\ caching\ can\ be}}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ automatically\ disabled\ if\ the\ occupancy}}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ requirement\ of\ the\ launch\ cannot\ support\ caching.}}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ To\ override\ this\ behavior\ with\ caching\ on\ and}}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ calculate\ occupancy\ strictly\ according\ to\ the}}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ preference,\ set\ partitionedGCConfig\ to}}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ PARTITIONED\_GC\_ON\_STRICT.\ This\ is\ especially}}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ useful\ for\ experimenting\ and\ finding\ launch}}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ configurations\ (MaxPotentialOccupancyBlockSize)}}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ that\ allow\ global\ caching\ to\ take\ effect.}}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ flag\ only\ affects\ the\ occupancy\ calculation.}}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \ \ \ \ cudaOccFuncShmemConfig\ shmemLimitConfig;}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Certain\ chips\ like\ sm\_70\ allow\ a\ user\ to\ opt\ into}}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ a\ higher\ per\ block\ limit\ of\ dynamic\ shared\ memory}}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ optin\ is\ performed\ on\ a\ per\ function\ basis}}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ using\ the\ cuFuncSetAttribute\ function}}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ maxDynamicSharedSizeBytes;}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ User\ set\ limit\ on\ maximum\ dynamic\ shared\ memory}}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ usable\ by\ the\ kernel}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ limit\ is\ set\ using\ the\ cuFuncSetAttribute}}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ function.}}
\DoxyCodeLine{00438\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00439\ \ \ \ \ \textcolor{comment}{//\ This\ structure\ can\ be\ converted\ from\ a\ cudaFuncAttributes\ structure\ for}}
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{comment}{//\ users\ that\ use\ this\ header\ in\ their\ CUDA\ applications.}}
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{comment}{//\ If\ the\ application\ have\ access\ to\ the\ CUDA\ Runtime\ API,\ the\ application}}
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{comment}{//\ can\ obtain\ the\ function\ attributes\ of\ a\ CUDA\ kernel\ function\ through}}
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{comment}{//\ cudaFuncGetAttributes,\ and\ initialize\ a\ cudaOccFuncAttributes\ with\ the}}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{comment}{//\ cudaFuncAttributes\ structure.}}
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{comment}{//\ Example:}}
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00449\ \textcolor{comment}{\ \ \ \ \ \ \_\_global\_\_\ void\ foo()\ \{...\}}}
\DoxyCodeLine{00450\ \textcolor{comment}{}}
\DoxyCodeLine{00451\ \textcolor{comment}{\ \ \ \ \ \ ...}}
\DoxyCodeLine{00452\ \textcolor{comment}{}}
\DoxyCodeLine{00453\ \textcolor{comment}{\ \ \ \ \ \ \{}}
\DoxyCodeLine{00454\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ cudaFuncAttributes\ attr;}}
\DoxyCodeLine{00455\ \textcolor{comment}{}}
\DoxyCodeLine{00456\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ cudaFuncGetAttributes(\&attr,\ foo);}}
\DoxyCodeLine{00457\ \textcolor{comment}{}}
\DoxyCodeLine{00458\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ cudaOccFuncAttributes\ occAttr\ =\ attr;}}
\DoxyCodeLine{00459\ \textcolor{comment}{}}
\DoxyCodeLine{00460\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ ...}}
\DoxyCodeLine{00461\ \textcolor{comment}{}}
\DoxyCodeLine{00462\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ cudaOccMaxPotentialOccupancyBlockSize(...,\ \&occAttr,\ ...);}}
\DoxyCodeLine{00463\ \textcolor{comment}{\ \ \ \ \ \ \}}}
\DoxyCodeLine{00464\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00465\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00466\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ FuncAttributes>}
\DoxyCodeLine{00467\ \ \ \ \ \_\_OCC\_INLINE}
\DoxyCodeLine{00468\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{FuncAttributes}}\ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attr}})}
\DoxyCodeLine{00469\ \ \ \ \ :\ \ \ maxThreadsPerBlock\ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attr}}.maxThreadsPerBlock),}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ numRegs\ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attr}}.numRegs),}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ sharedSizeBytes\ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attr}}.sharedSizeBytes),}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ partitionedGCConfig\ (PARTITIONED\_GC\_OFF),}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ shmemLimitConfig\ \ \ \ (FUNC\_SHMEM\_LIMIT\_OPTIN),}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ maxDynamicSharedSizeBytes\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attr}}.maxDynamicSharedSizeBytes)}
\DoxyCodeLine{00475\ \ \ \ \ \{\}}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \ \ \ \ \_\_OCC\_INLINE}
\DoxyCodeLine{00478\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}()}
\DoxyCodeLine{00479\ \ \ \ \ :\ \ \ maxThreadsPerBlock\ \ (0),}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ numRegs\ \ \ \ \ \ \ \ \ \ \ \ \ (0),}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ sharedSizeBytes\ \ \ \ \ (0),}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ partitionedGCConfig\ (PARTITIONED\_GC\_OFF),}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ shmemLimitConfig\ \ \ \ (FUNC\_SHMEM\_LIMIT\_DEFAULT),}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ maxDynamicSharedSizeBytes\ (0)}
\DoxyCodeLine{00485\ \ \ \ \ \{\}}
\DoxyCodeLine{00486\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00487\ \};}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ cudaOccCacheConfig\_enum\ \{}
\DoxyCodeLine{00490\ \ \ \ \ CACHE\_PREFER\_NONE\ \ \ =\ 0x00,\ \textcolor{comment}{//\ no\ preference\ for\ shared\ memory\ or\ L1\ (default)}}
\DoxyCodeLine{00491\ \ \ \ \ CACHE\_PREFER\_SHARED\ =\ 0x01,\ \textcolor{comment}{//\ prefer\ larger\ shared\ memory\ and\ smaller\ L1\ cache}}
\DoxyCodeLine{00492\ \ \ \ \ CACHE\_PREFER\_L1\ \ \ \ \ =\ 0x02,\ \textcolor{comment}{//\ prefer\ larger\ L1\ cache\ and\ smaller\ shared\ memory}}
\DoxyCodeLine{00493\ \ \ \ \ CACHE\_PREFER\_EQUAL\ \ =\ 0x03\ \ \textcolor{comment}{//\ prefer\ equal\ sized\ L1\ cache\ and\ shared\ memory}}
\DoxyCodeLine{00494\ \}\ cudaOccCacheConfig;}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ cudaOccCarveoutConfig\_enum\ \{}
\DoxyCodeLine{00497\ \ \ \ \ SHAREDMEM\_CARVEOUT\_DEFAULT\ \ \ \ \ \ \ =\ -\/1,\ \ \textcolor{comment}{//\ no\ preference\ for\ shared\ memory\ or\ L1\ (default)}}
\DoxyCodeLine{00498\ \ \ \ \ SHAREDMEM\_CARVEOUT\_MAX\_SHARED\ \ \ \ =\ 100,\ \textcolor{comment}{//\ prefer\ maximum\ available\ shared\ memory,\ minimum\ L1\ cache}}
\DoxyCodeLine{00499\ \ \ \ \ SHAREDMEM\_CARVEOUT\_MAX\_L1\ \ \ \ \ \ \ \ =\ 0,\ \ \ \ \textcolor{comment}{//\ prefer\ maximum\ available\ L1\ cache,\ minimum\ shared\ memory}}
\DoxyCodeLine{00500\ \ \ \ \ SHAREDMEM\_CARVEOUT\_HALF\ \ \ \ \ \ \ \ \ \ =\ 50\ \ \ \textcolor{comment}{//\ prefer\ half\ of\ maximum\ available\ shared\ memory,\ with\ the\ rest\ as\ L1\ cache}}
\DoxyCodeLine{00501\ \}\ cudaOccCarveoutConfig;}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00508\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}}
\DoxyCodeLine{00509\ \{}
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{comment}{//\ Cache\ /\ shared\ memory\ split\ preference.\ Deprecated\ on\ Volta\ }}
\DoxyCodeLine{00511\ \ \ \ \ cudaOccCacheConfig\ cacheConfig;\ }
\DoxyCodeLine{00512\ \ \ \ \ \textcolor{comment}{//\ Shared\ memory\ /\ L1\ split\ preference.\ Supported\ on\ only\ Volta}}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keywordtype}{int}\ carveoutConfig;}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00516\ \ \ \ \ \_\_OCC\_INLINE}
\DoxyCodeLine{00517\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}()}
\DoxyCodeLine{00518\ \ \ \ \ :\ \ \ cacheConfig\ \ \ \ \ (CACHE\_PREFER\_NONE),}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ carveoutConfig\ \ (SHAREDMEM\_CARVEOUT\_DEFAULT)}
\DoxyCodeLine{00520\ \ \ \ \ \{\}}
\DoxyCodeLine{00521\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00522\ \};}
\DoxyCodeLine{00523\ }
\DoxyCodeLine{00524\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ cudaOccLimitingFactor\_enum\ \{}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Occupancy\ limited\ due\ to:}}
\DoxyCodeLine{00526\ \ \ \ \ OCC\_LIMIT\_WARPS\ \ \ \ \ \ \ \ \ =\ 0x01,\ \textcolor{comment}{//\ -\/\ warps\ available}}
\DoxyCodeLine{00527\ \ \ \ \ OCC\_LIMIT\_REGISTERS\ \ \ \ \ =\ 0x02,\ \textcolor{comment}{//\ -\/\ registers\ available}}
\DoxyCodeLine{00528\ \ \ \ \ OCC\_LIMIT\_SHARED\_MEMORY\ =\ 0x04,\ \textcolor{comment}{//\ -\/\ shared\ memory\ available}}
\DoxyCodeLine{00529\ \ \ \ \ OCC\_LIMIT\_BLOCKS\ \ \ \ \ \ \ \ =\ 0x08\ \ \textcolor{comment}{//\ -\/\ blocks\ available}}
\DoxyCodeLine{00530\ \}\ cudaOccLimitingFactor;}
\DoxyCodeLine{00531\ }
\DoxyCodeLine{00537\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \{}
\DoxyCodeLine{00538\ \ \ \ \ \textcolor{keywordtype}{int}\ activeBlocksPerMultiprocessor;\ \textcolor{comment}{//\ Occupancy}}
\DoxyCodeLine{00539\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ limitingFactors;\ \ \ \ \ \ \textcolor{comment}{//\ Factors\ that\ limited\ occupancy.\ A\ bit}}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ field\ that\ counts\ the\ limiting}}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ factors,\ see\ cudaOccLimitingFactor}}
\DoxyCodeLine{00542\ \ \ \ \ \textcolor{keywordtype}{int}\ blockLimitRegs;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Occupancy\ due\ to\ register}}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ usage,\ INT\_MAX\ if\ the\ kernel\ does\ not}}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ use\ any\ register.}}
\DoxyCodeLine{00545\ \ \ \ \ \textcolor{keywordtype}{int}\ blockLimitSharedMem;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Occupancy\ due\ to\ shared\ memory}}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ usage,\ INT\_MAX\ if\ the\ kernel\ does\ not}}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ use\ shared\ memory.}}
\DoxyCodeLine{00548\ \ \ \ \ \textcolor{keywordtype}{int}\ blockLimitWarps;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Occupancy\ due\ to\ block\ size\ limit}}
\DoxyCodeLine{00549\ \ \ \ \ \textcolor{keywordtype}{int}\ blockLimitBlocks;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Occupancy\ due\ to\ maximum\ number\ of\ blocks}}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ managable\ per\ SM}}
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{keywordtype}{int}\ allocatedRegistersPerBlock;\ \ \ \ \textcolor{comment}{//\ Actual\ number\ of\ registers\ allocated\ per}}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ block}}
\DoxyCodeLine{00553\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ allocatedSharedMemPerBlock;\ \textcolor{comment}{//\ Actual\ size\ of\ shared\ memory\ allocated}}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ per\ block}}
\DoxyCodeLine{00555\ \ \ \ \ cudaOccPartitionedGCConfig\ partitionedGCConfig;}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Report\ if\ partitioned\ global\ caching}}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ actually\ enabled.}}
\DoxyCodeLine{00558\ \};}
\DoxyCodeLine{00559\ }
\DoxyCodeLine{00565\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ cudaOccPartitionedGCSupport\_enum\ \{}
\DoxyCodeLine{00566\ \ \ \ \ PARTITIONED\_GC\_NOT\_SUPPORTED,\ \ \textcolor{comment}{//\ Partitioned\ global\ caching\ is\ not\ supported}}
\DoxyCodeLine{00567\ \ \ \ \ PARTITIONED\_GC\_SUPPORTED,\ \ \ \ \ \ \textcolor{comment}{//\ Partitioned\ global\ caching\ is\ supported}}
\DoxyCodeLine{00568\ \}\ cudaOccPartitionedGCSupport;}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00584\ \textcolor{preprocessor}{\#define\ \_\_CUDA\_OCC\_MAJOR\_\_\ 8}}
\DoxyCodeLine{00585\ \textcolor{preprocessor}{\#define\ \_\_CUDA\_OCC\_MINOR\_\_\ 6}}
\DoxyCodeLine{00586\ }
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00589\ \textcolor{comment}{//\ \ \ \ Mathematical\ Helper\ Functions\ \ \ \ \ //}}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00592\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ \textcolor{keywordtype}{int}\ \_\_occMin(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{lhs}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{rhs}})}
\DoxyCodeLine{00593\ \{}
\DoxyCodeLine{00594\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{rhs}}\ <\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{lhs}}\ ?\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{rhs}}\ :\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{lhs}};}
\DoxyCodeLine{00595\ \}}
\DoxyCodeLine{00596\ }
\DoxyCodeLine{00597\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ \textcolor{keywordtype}{int}\ \_\_occDivideRoundUp(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y)}
\DoxyCodeLine{00598\ \{}
\DoxyCodeLine{00599\ \ \ \ \ \textcolor{keywordflow}{return}\ (x\ +\ (y\ -\/\ 1))\ /\ y;}
\DoxyCodeLine{00600\ \}}
\DoxyCodeLine{00601\ }
\DoxyCodeLine{00602\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ \textcolor{keywordtype}{int}\ \_\_occRoundUp(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y)}
\DoxyCodeLine{00603\ \{}
\DoxyCodeLine{00604\ \ \ \ \ \textcolor{keywordflow}{return}\ y\ *\ \_\_occDivideRoundUp(x,\ y);}
\DoxyCodeLine{00605\ \}}
\DoxyCodeLine{00606\ }
\DoxyCodeLine{00608\ \textcolor{comment}{//\ \ \ \ \ \ Architectural\ Properties\ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{00610\ }
\DoxyCodeLine{00614\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccSMemAllocationGranularity(\textcolor{keywordtype}{int}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{00615\ \{}
\DoxyCodeLine{00616\ \ \ \ \ \textcolor{keywordtype}{int}\ value;}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \ \ \textcolor{keywordflow}{switch}(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 7:}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 256;}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{00626\ }
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ }
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 128;}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{00633\ \ \ \ \ \}}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ value;}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00637\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{00638\ \}}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00643\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccRegAllocationMaxPerThread(\textcolor{keywordtype}{int}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{00644\ \{}
\DoxyCodeLine{00645\ \ \ \ \ \textcolor{keywordtype}{int}\ value;}
\DoxyCodeLine{00646\ }
\DoxyCodeLine{00647\ \ \ \ \ \textcolor{keywordflow}{switch}(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 255;}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 7:}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{00655\ }
\DoxyCodeLine{00656\ }
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 256;}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{00662\ \ \ \ \ \}}
\DoxyCodeLine{00663\ }
\DoxyCodeLine{00664\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ value;}
\DoxyCodeLine{00665\ }
\DoxyCodeLine{00666\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{00667\ \}}
\DoxyCodeLine{00668\ }
\DoxyCodeLine{00672\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccRegAllocationGranularity(\textcolor{keywordtype}{int}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{00673\ \{}
\DoxyCodeLine{00674\ \ \ \ \ \textcolor{keywordtype}{int}\ value;}
\DoxyCodeLine{00675\ }
\DoxyCodeLine{00676\ \ \ \ \ \textcolor{keywordflow}{switch}(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 7:}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{00682\ }
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 256;}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{00689\ \ \ \ \ \}}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00691\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ value;}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{00694\ \}}
\DoxyCodeLine{00695\ }
\DoxyCodeLine{00699\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccSubPartitionsPerMultiprocessor(\textcolor{keywordtype}{int}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{00700\ \{}
\DoxyCodeLine{00701\ \ \ \ \ \textcolor{keywordtype}{int}\ value;}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \ \ \ \ \textcolor{keywordflow}{switch}(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 7:}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{00708\ }
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00710\ }
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 4;}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ?\ 4\ :\ 2;}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{00718\ \ \ \ \ \}}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00720\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ value;}
\DoxyCodeLine{00721\ }
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{00723\ \}}
\DoxyCodeLine{00724\ }
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00729\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccMaxBlocksPerMultiprocessor(\textcolor{keywordtype}{int}*\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{00730\ \{}
\DoxyCodeLine{00731\ \ \ \ \ \textcolor{keywordtype}{int}\ value;}
\DoxyCodeLine{00732\ }
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keywordflow}{switch}(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 16;}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{00738\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 32;}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 7:\ \{}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{isTuring}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 5;}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{isTuring}})\ ?\ 16\ :\ 32;}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 0)\ \{}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 32;}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ }
\DoxyCodeLine{00752\ }
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ }
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ 16;}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00760\ }
\DoxyCodeLine{00761\ }
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00763\ }
\DoxyCodeLine{00764\ }
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{00767\ \ \ \ \ \}}
\DoxyCodeLine{00768\ }
\DoxyCodeLine{00769\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ value;}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{00772\ \}}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00777\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccAlignUpShmemSizeVoltaPlus(\textcolor{keywordtype}{size\_t}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{00778\ \{}
\DoxyCodeLine{00779\ \ \ \ \ \textcolor{comment}{//\ Volta\ and\ Turing\ have\ shared\ L1\ cache\ /\ shared\ memory,\ and\ support\ cache}}
\DoxyCodeLine{00780\ \ \ \ \ \textcolor{comment}{//\ configuration\ to\ trade\ one\ for\ the\ other.\ These\ values\ are\ needed\ to}}
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{comment}{//\ map\ carveout\ config\ ratio\ to\ the\ next\ available\ architecture\ size}}
\DoxyCodeLine{00782\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}};}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{00785\ \ \ \ \ \textcolor{keywordflow}{case}\ 7:\ \{}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Turing\ supports\ 32KB\ and\ 64KB\ shared\ mem.}}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{isTuring}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 5;}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{isTuring}})\ \{}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ \ (size\ <=\ 32\ *\ 1024)\ \{}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 32\ *\ 1024;}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 64\ *\ 1024)\ \{}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 64\ *\ 1024;}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Volta\ supports\ 0KB,\ 8KB,\ 16KB,\ 32KB,\ 64KB,\ and\ 96KB\ shared\ mem.}}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ \ (size\ ==\ 0)\ \{}
\DoxyCodeLine{00802\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 0;}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 8\ *\ 1024)\ \{}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 8\ *\ 1024;}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 16\ *\ 1024)\ \{}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 16\ *\ 1024;}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 32\ *\ 1024)\ \{}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 32\ *\ 1024;}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 64\ *\ 1024)\ \{}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 64\ *\ 1024;}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 96\ *\ 1024)\ \{}
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 96\ *\ 1024;}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00822\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00824\ \ \ \ \ \}}
\DoxyCodeLine{00825\ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 0\ ||\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 7)\ \{}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ \ (size\ ==\ 0)\ \{}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 0;}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 8\ *\ 1024)\ \{}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 8\ *\ 1024;}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 16\ *\ 1024)\ \{}
\DoxyCodeLine{00834\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 16\ *\ 1024;}
\DoxyCodeLine{00835\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 32\ *\ 1024)\ \{}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 32\ *\ 1024;}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 64\ *\ 1024)\ \{}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 64\ *\ 1024;}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 100\ *\ 1024)\ \{}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 100\ *\ 1024;}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 132\ *\ 1024)\ \{}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 132\ *\ 1024;}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 164\ *\ 1024)\ \{}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 164\ *\ 1024;}
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{00853\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00854\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ \ (size\ ==\ 0)\ \{}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 0;}
\DoxyCodeLine{00858\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 8\ *\ 1024)\ \{}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 8\ *\ 1024;}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 16\ *\ 1024)\ \{}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 16\ *\ 1024;}
\DoxyCodeLine{00864\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00865\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 32\ *\ 1024)\ \{}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 32\ *\ 1024;}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 64\ *\ 1024)\ \{}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 64\ *\ 1024;}
\DoxyCodeLine{00870\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (size\ <=\ 100\ *\ 1024)\ \{}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{shMemSize}}\ =\ 100\ *\ 1024;}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00874\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00875\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{00876\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00879\ }
\DoxyCodeLine{00880\ }
\DoxyCodeLine{00881\ }
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ }
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ }
\DoxyCodeLine{00888\ }
\DoxyCodeLine{00889\ }
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ }
\DoxyCodeLine{00892\ }
\DoxyCodeLine{00893\ }
\DoxyCodeLine{00894\ }
\DoxyCodeLine{00895\ }
\DoxyCodeLine{00896\ }
\DoxyCodeLine{00897\ }
\DoxyCodeLine{00898\ }
\DoxyCodeLine{00899\ }
\DoxyCodeLine{00900\ }
\DoxyCodeLine{00901\ }
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ }
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ }
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ }
\DoxyCodeLine{00908\ }
\DoxyCodeLine{00909\ }
\DoxyCodeLine{00910\ }
\DoxyCodeLine{00911\ }
\DoxyCodeLine{00912\ }
\DoxyCodeLine{00913\ }
\DoxyCodeLine{00914\ }
\DoxyCodeLine{00915\ }
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{00919\ \ \ \ \ \}}
\DoxyCodeLine{00920\ }
\DoxyCodeLine{00921\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{00922\ \}}
\DoxyCodeLine{00923\ }
\DoxyCodeLine{00927\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccSMemPreferenceVoltaPlus(\textcolor{keywordtype}{size\_t}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}})}
\DoxyCodeLine{00928\ \{}
\DoxyCodeLine{00929\ \ \ \ \ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{00930\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{preferenceShmemSize}};}
\DoxyCodeLine{00931\ }
\DoxyCodeLine{00932\ \ \ \ \ \textcolor{comment}{//\ CUDA\ 9.0\ introduces\ a\ new\ API\ to\ set\ shared\ memory\ -\/\ L1\ configuration\ on\ supported}}
\DoxyCodeLine{00933\ \ \ \ \ \textcolor{comment}{//\ devices.\ This\ preference\ will\ take\ precedence\ over\ the\ older\ cacheConfig\ setting.}}
\DoxyCodeLine{00934\ \ \ \ \ \textcolor{comment}{//\ Map\ cacheConfig\ to\ its\ effective\ preference\ value.}}
\DoxyCodeLine{00935\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}}-\/>carveoutConfig;}
\DoxyCodeLine{00936\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ <\ SHAREDMEM\_CARVEOUT\_DEFAULT)\ ||\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ >\ SHAREDMEM\_CARVEOUT\_MAX\_SHARED))\ \{}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{00938\ \ \ \ \ \}}
\DoxyCodeLine{00939\ \ \ \ \ }
\DoxyCodeLine{00940\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ ==\ SHAREDMEM\_CARVEOUT\_DEFAULT)\ \{}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}}-\/>cacheConfig)}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00943\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CACHE\_PREFER\_L1:}
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ =\ SHAREDMEM\_CARVEOUT\_MAX\_L1;}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00946\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CACHE\_PREFER\_SHARED:}
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ =\ SHAREDMEM\_CARVEOUT\_MAX\_SHARED;}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CACHE\_PREFER\_EQUAL:}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ =\ SHAREDMEM\_CARVEOUT\_HALF;}
\DoxyCodeLine{00951\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00952\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00953\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ =\ SHAREDMEM\_CARVEOUT\_DEFAULT;}
\DoxyCodeLine{00954\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00955\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00956\ \ \ \ \ \}}
\DoxyCodeLine{00957\ }
\DoxyCodeLine{00958\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ ==\ SHAREDMEM\_CARVEOUT\_DEFAULT)\ \{}
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{preferenceShmemSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerMultiprocessor;}
\DoxyCodeLine{00960\ \ \ \ \ \}}
\DoxyCodeLine{00961\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00962\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{preferenceShmemSize}}\ =\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{size\_t}})\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{effectivePreference}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerMultiprocessor)\ /\ 100;}
\DoxyCodeLine{00963\ \ \ \ \ \}}
\DoxyCodeLine{00964\ }
\DoxyCodeLine{00965\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccAlignUpShmemSizeVoltaPlus(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{preferenceShmemSize}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{00966\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{preferenceShmemSize}};}
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{00968\ \}}
\DoxyCodeLine{00969\ }
\DoxyCodeLine{00973\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccSMemPreference(\textcolor{keywordtype}{size\_t}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}})}
\DoxyCodeLine{00974\ \{}
\DoxyCodeLine{00975\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bytes\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{00976\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorHigh}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerMultiprocessor;}
\DoxyCodeLine{00977\ \ \ \ \ cudaOccCacheConfig\ cacheConfig\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}}-\/>cacheConfig;}
\DoxyCodeLine{00978\ }
\DoxyCodeLine{00979\ \ \ \ \ \textcolor{comment}{//\ Kepler\ has\ shared\ L1\ cache\ /\ shared\ memory,\ and\ support\ cache}}
\DoxyCodeLine{00980\ \ \ \ \ \textcolor{comment}{//\ configuration\ to\ trade\ one\ for\ the\ other.\ These\ values\ are\ needed\ to}}
\DoxyCodeLine{00981\ \ \ \ \ \textcolor{comment}{//\ calculate\ the\ correct\ shared\ memory\ size\ for\ user\ requested\ cache}}
\DoxyCodeLine{00982\ \ \ \ \ \textcolor{comment}{//\ configuration.}}
\DoxyCodeLine{00983\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00984\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minCacheSize}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 16384;}
\DoxyCodeLine{00985\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxCacheSize}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 49152;}
\DoxyCodeLine{00986\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{cacheAndSharedTotal}}\ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorHigh}}\ +\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minCacheSize}};}
\DoxyCodeLine{00987\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorLow}}\ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{cacheAndSharedTotal}}\ -\/\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxCacheSize}};}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{00990\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00991\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Kepler\ supports\ 16KB,\ 32KB,\ or\ 48KB\ partitions\ for\ L1.\ The\ rest}}
\DoxyCodeLine{00992\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ shared\ memory.}}
\DoxyCodeLine{00993\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (cacheConfig)\ \{}
\DoxyCodeLine{00995\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{default}}\ :}
\DoxyCodeLine{00996\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CACHE\_PREFER\_NONE:}
\DoxyCodeLine{00997\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CACHE\_PREFER\_SHARED:}
\DoxyCodeLine{00998\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bytes\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorHigh}};}
\DoxyCodeLine{00999\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01000\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CACHE\_PREFER\_L1:}
\DoxyCodeLine{01001\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bytes\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorLow}};}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ CACHE\_PREFER\_EQUAL:}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Equal\ is\ the\ mid-\/point\ between\ high\ and\ low.\ It\ should\ be}}
\DoxyCodeLine{01005\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ equivalent\ to\ low\ +\ 16KB.}}
\DoxyCodeLine{01006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bytes\ =\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorHigh}}\ +\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorLow}})\ /\ 2;}
\DoxyCodeLine{01008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01011\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{01012\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{01013\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Maxwell\ and\ Pascal\ have\ dedicated\ shared\ memory.}}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01015\ \ \ \ \ \ \ \ \ \ \ \ \ bytes\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{sharedMemPerMultiprocessorHigh}};}
\DoxyCodeLine{01016\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01018\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{01019\ \ \ \ \ \}}
\DoxyCodeLine{01020\ }
\DoxyCodeLine{01021\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ bytes;}
\DoxyCodeLine{01022\ }
\DoxyCodeLine{01023\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01024\ \}}
\DoxyCodeLine{01025\ }
\DoxyCodeLine{01029\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccSMemPerMultiprocessor(\textcolor{keywordtype}{size\_t}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}})}
\DoxyCodeLine{01030\ \{}
\DoxyCodeLine{01031\ \ \ \ \ \textcolor{comment}{//\ Volta\ introduces\ a\ new\ API\ that\ allows\ for\ shared\ memory\ carveout\ preference.\ Because\ it\ is\ a\ shared\ memory\ preference,}}
\DoxyCodeLine{01032\ \ \ \ \ \textcolor{comment}{//\ it\ is\ handled\ separately\ from\ the\ cache\ config\ preference.}}
\DoxyCodeLine{01033\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor\ >=\ 7)\ \{}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cudaOccSMemPreferenceVoltaPlus(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01035\ \ \ \ \ \}}
\DoxyCodeLine{01036\ \ \ \ \ \textcolor{keywordflow}{return}\ cudaOccSMemPreference(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01037\ \}}
\DoxyCodeLine{01038\ }
\DoxyCodeLine{01042\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccSMemPerBlock(\textcolor{keywordtype}{size\_t}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ cudaOccFuncShmemConfig\ shmemLimitConfig,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemPerCta}})}
\DoxyCodeLine{01043\ \{}
\DoxyCodeLine{01044\ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor)\ \{}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 2:}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{01047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 4:}
\DoxyCodeLine{01048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{01049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{01050\ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerBlock;}
\DoxyCodeLine{01051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 7:}
\DoxyCodeLine{01053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{01054\ }
\DoxyCodeLine{01055\ }
\DoxyCodeLine{01056\ }
\DoxyCodeLine{01057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (shmemLimitConfig)\ \{}
\DoxyCodeLine{01058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ FUNC\_SHMEM\_LIMIT\_DEFAULT:}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerBlock;}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ FUNC\_SHMEM\_LIMIT\_OPTIN:}
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemPerCta}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerBlock)\ \{}
\DoxyCodeLine{01064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerBlockOptin;}
\DoxyCodeLine{01065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerBlock;}
\DoxyCodeLine{01068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01070\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_UNKNOWN\_DEVICE;}
\DoxyCodeLine{01074\ \ \ \ \ \}}
\DoxyCodeLine{01075\ }
\DoxyCodeLine{01076\ \ \ \ \ \textcolor{comment}{//\ Starting\ Ampere,\ CUDA\ driver\ reserves\ additional\ shared\ memory\ per\ block}}
\DoxyCodeLine{01077\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor\ >=\ 8)\ \{}
\DoxyCodeLine{01078\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ +=\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>reservedSharedMemPerBlock;}
\DoxyCodeLine{01079\ \ \ \ \ \}}
\DoxyCodeLine{01080\ }
\DoxyCodeLine{01081\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01082\ \}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01087\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccPartitionedGlobalCachingModeSupport(cudaOccPartitionedGCSupport\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{01088\ \{}
\DoxyCodeLine{01089\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ PARTITIONED\_GC\_NOT\_SUPPORTED;}
\DoxyCodeLine{01090\ }
\DoxyCodeLine{01091\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor\ ==\ 5\ \&\&\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 2\ ||\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 3))\ ||}
\DoxyCodeLine{01092\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor\ ==\ 6)\ \{}
\DoxyCodeLine{01093\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ PARTITIONED\_GC\_SUPPORTED;}
\DoxyCodeLine{01094\ \ \ \ \ \}}
\DoxyCodeLine{01095\ }
\DoxyCodeLine{01096\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor\ ==\ 6\ \&\&\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 0)\ \{}
\DoxyCodeLine{01097\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ PARTITIONED\_GC\_NOT\_SUPPORTED;}
\DoxyCodeLine{01098\ \ \ \ \ \}}
\DoxyCodeLine{01099\ }
\DoxyCodeLine{01100\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01101\ \}}
\DoxyCodeLine{01102\ }
\DoxyCodeLine{01104\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ User\ Input\ Sanity\ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{01106\ }
\DoxyCodeLine{01107\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccDevicePropCheck(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}})}
\DoxyCodeLine{01108\ \{}
\DoxyCodeLine{01109\ \ \ \ \ \textcolor{comment}{//\ Verify\ device\ properties}}
\DoxyCodeLine{01110\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01111\ \ \ \ \ \textcolor{comment}{//\ Each\ of\ these\ limits\ must\ be\ a\ positive\ number.}}
\DoxyCodeLine{01112\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01113\ \ \ \ \ \textcolor{comment}{//\ Compute\ capacity\ is\ checked\ during\ the\ occupancy\ calculation}}
\DoxyCodeLine{01114\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01115\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerBlock\ \ \ \ \ \ \ \ \ \ <=\ 0\ ||}
\DoxyCodeLine{01116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerMultiprocessor\ <=\ 0\ ||}
\DoxyCodeLine{01117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>regsPerBlock\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <=\ 0\ ||}
\DoxyCodeLine{01118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>regsPerMultiprocessor\ \ \ \ \ \ \ <=\ 0\ ||}
\DoxyCodeLine{01119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>warpSize\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <=\ 0\ ||}
\DoxyCodeLine{01120\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerBlock\ \ \ \ \ \ \ \ \ \ \ <=\ 0\ ||}
\DoxyCodeLine{01121\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerMultiprocessor\ \ <=\ 0\ ||}
\DoxyCodeLine{01122\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>numSms\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <=\ 0)\ \{}
\DoxyCodeLine{01123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{01124\ \ \ \ \ \}}
\DoxyCodeLine{01125\ }
\DoxyCodeLine{01126\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01127\ \}}
\DoxyCodeLine{01128\ }
\DoxyCodeLine{01129\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccFuncAttributesCheck(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}})}
\DoxyCodeLine{01130\ \{}
\DoxyCodeLine{01131\ \ \ \ \ \textcolor{comment}{//\ Verify\ function\ attributes}}
\DoxyCodeLine{01132\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01133\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>maxThreadsPerBlock\ <=\ 0\ ||}
\DoxyCodeLine{01134\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>numRegs\ <\ 0)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Compiler\ may\ choose\ not\ to\ use}}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ any\ register\ (empty\ kernels,}}
\DoxyCodeLine{01136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ etc.)}}
\DoxyCodeLine{01137\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{01138\ \ \ \ \ \}}
\DoxyCodeLine{01139\ }
\DoxyCodeLine{01140\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01141\ \}}
\DoxyCodeLine{01142\ }
\DoxyCodeLine{01143\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccDeviceStateCheck(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}})}
\DoxyCodeLine{01144\ \{}
\DoxyCodeLine{01145\ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{void}})\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}};\ \ \ \textcolor{comment}{//\ silence\ unused-\/variable\ warning}}
\DoxyCodeLine{01146\ \ \ \ \ \textcolor{comment}{//\ Placeholder}}
\DoxyCodeLine{01147\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01148\ }
\DoxyCodeLine{01149\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01150\ \}}
\DoxyCodeLine{01151\ }
\DoxyCodeLine{01152\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccInputCheck(}
\DoxyCodeLine{01153\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01154\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01155\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}})}
\DoxyCodeLine{01156\ \{}
\DoxyCodeLine{01157\ \ \ \ \ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01158\ }
\DoxyCodeLine{01159\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccDevicePropCheck(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01160\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01162\ \ \ \ \ \}}
\DoxyCodeLine{01163\ }
\DoxyCodeLine{01164\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccFuncAttributesCheck(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}});}
\DoxyCodeLine{01165\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01167\ \ \ \ \ \}}
\DoxyCodeLine{01168\ }
\DoxyCodeLine{01169\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccDeviceStateCheck(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01170\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01172\ \ \ \ \ \}}
\DoxyCodeLine{01173\ }
\DoxyCodeLine{01174\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01175\ \}}
\DoxyCodeLine{01176\ }
\DoxyCodeLine{01178\ \textcolor{comment}{//\ \ \ \ Occupancy\ calculation\ Functions\ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{01180\ }
\DoxyCodeLine{01181\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccPartitionedGCConfig\ cudaOccPartitionedGCExpected(}
\DoxyCodeLine{01182\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01183\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}})}
\DoxyCodeLine{01184\ \{}
\DoxyCodeLine{01185\ \ \ \ \ cudaOccPartitionedGCSupport\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcSupport}};}
\DoxyCodeLine{01186\ \ \ \ \ cudaOccPartitionedGCConfig\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}};}
\DoxyCodeLine{01187\ }
\DoxyCodeLine{01188\ \ \ \ \ cudaOccPartitionedGlobalCachingModeSupport(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcSupport}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01189\ }
\DoxyCodeLine{01190\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>partitionedGCConfig;}
\DoxyCodeLine{01191\ }
\DoxyCodeLine{01192\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcSupport}}\ ==\ PARTITIONED\_GC\_NOT\_SUPPORTED)\ \{}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ =\ PARTITIONED\_GC\_OFF;}
\DoxyCodeLine{01194\ \ \ \ \ \}}
\DoxyCodeLine{01195\ }
\DoxyCodeLine{01196\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}};}
\DoxyCodeLine{01197\ \}}
\DoxyCodeLine{01198\ }
\DoxyCodeLine{01199\ \textcolor{comment}{//\ Warp\ limit}}
\DoxyCodeLine{01200\ \textcolor{comment}{//}}
\DoxyCodeLine{01201\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccMaxBlocksPerSMWarpsLimit(}
\DoxyCodeLine{01202\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},}
\DoxyCodeLine{01203\ \ \ \ \ cudaOccPartitionedGCConfig\ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}},}
\DoxyCodeLine{01204\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01205\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01206\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}})}
\DoxyCodeLine{01207\ \{}
\DoxyCodeLine{01208\ \ \ \ \ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01209\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxWarpsPerSm}};}
\DoxyCodeLine{01210\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}};}
\DoxyCodeLine{01211\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}};}
\DoxyCodeLine{01212\ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{void}})\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}};\ \ \ \textcolor{comment}{//\ silence\ unused-\/variable\ warning}}
\DoxyCodeLine{01213\ }
\DoxyCodeLine{01214\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerBlock)\ \{}
\DoxyCodeLine{01215\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ 0;}
\DoxyCodeLine{01216\ \ \ \ \ \}}
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01218\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxWarpsPerSm}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerMultiprocessor\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>warpSize;}
\DoxyCodeLine{01219\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}}\ =\ \_\_occDivideRoundUp(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>warpSize);}
\DoxyCodeLine{01220\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ 0;}
\DoxyCodeLine{01221\ }
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ !=\ PARTITIONED\_GC\_OFF)\ \{}
\DoxyCodeLine{01223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocksPerSmPartition}};}
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxWarpsPerSmPartition}};}
\DoxyCodeLine{01225\ }
\DoxyCodeLine{01226\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ partitioned\ global\ caching\ is\ on,\ then\ a\ CTA\ can\ only\ use\ a\ SM}}
\DoxyCodeLine{01227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ partition\ (a\ half\ SM),\ and\ thus\ a\ half\ of\ the\ warp\ slots}}
\DoxyCodeLine{01228\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ available\ per\ SM}}
\DoxyCodeLine{01229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01230\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxWarpsPerSmPartition}}\ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxWarpsPerSm}}\ /\ 2;}
\DoxyCodeLine{01231\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocksPerSmPartition}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxWarpsPerSmPartition}}\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}};}
\DoxyCodeLine{01232\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocksPerSmPartition}}\ *\ 2;}
\DoxyCodeLine{01233\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01234\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ On\ hardware\ that\ supports\ partitioned\ global\ caching,\ each\ half\ SM\ is}}
\DoxyCodeLine{01235\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ guaranteed\ to\ support\ at\ least\ 32\ warps\ (maximum\ number\ of\ warps\ of\ a}}
\DoxyCodeLine{01236\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CTA),\ so\ caching\ will\ not\ cause\ 0\ occupancy\ due\ to\ insufficient\ warp}}
\DoxyCodeLine{01237\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ allocation\ slots.}}
\DoxyCodeLine{01238\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01240\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxWarpsPerSm}}\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}};}
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01242\ \ \ \ \ \}}
\DoxyCodeLine{01243\ }
\DoxyCodeLine{01244\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}};}
\DoxyCodeLine{01245\ }
\DoxyCodeLine{01246\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01247\ \}}
\DoxyCodeLine{01248\ }
\DoxyCodeLine{01249\ \textcolor{comment}{//\ Shared\ memory\ limit}}
\DoxyCodeLine{01250\ \textcolor{comment}{//}}
\DoxyCodeLine{01251\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE\ cudaOccError\ cudaOccMaxBlocksPerSMSmemLimit(}
\DoxyCodeLine{01252\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},}
\DoxyCodeLine{01253\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},}
\DoxyCodeLine{01254\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01255\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01256\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01257\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},}
\DoxyCodeLine{01258\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSize}})}
\DoxyCodeLine{01259\ \{}
\DoxyCodeLine{01260\ \ \ \ \ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01261\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}};}
\DoxyCodeLine{01262\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}}\ =\ 0;}
\DoxyCodeLine{01263\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{totalSmemUsagePerCTA}};}
\DoxyCodeLine{01264\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxSmemUsagePerCTA}};}
\DoxyCodeLine{01265\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}};}
\DoxyCodeLine{01266\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{staticSmemSize}};}
\DoxyCodeLine{01267\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sharedMemPerMultiprocessor;}
\DoxyCodeLine{01268\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerCTA}};}
\DoxyCodeLine{01269\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}};}
\DoxyCodeLine{01270\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSizeExceeded}}\ =\ 0;}
\DoxyCodeLine{01271\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{totalSmemSizeExceeded}}\ =\ 0;}
\DoxyCodeLine{01272\ \ \ \ \ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{void}})\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}};\ \ \ \textcolor{comment}{//\ silence\ unused-\/variable\ warning}}
\DoxyCodeLine{01273\ }
\DoxyCodeLine{01274\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccSMemAllocationGranularity(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01275\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01277\ \ \ \ \ \}}
\DoxyCodeLine{01278\ }
\DoxyCodeLine{01279\ \ \ \ \ \textcolor{comment}{//\ Obtain\ the\ user\ preferred\ shared\ memory\ size.\ This\ setting\ is\ ignored\ if}}
\DoxyCodeLine{01280\ \ \ \ \ \textcolor{comment}{//\ user\ requests\ more\ shared\ memory\ than\ preferred.}}
\DoxyCodeLine{01281\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01282\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccSMemPerMultiprocessor(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01283\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01284\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01285\ \ \ \ \ \}}
\DoxyCodeLine{01286\ }
\DoxyCodeLine{01287\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{staticSmemSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>sharedSizeBytes\ +\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>reservedSharedMemPerBlock;}
\DoxyCodeLine{01288\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{totalSmemUsagePerCTA}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{staticSmemSize}}\ +\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSize}};}
\DoxyCodeLine{01289\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}}\ =\ \_\_occRoundUp((\textcolor{keywordtype}{int})\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{totalSmemUsagePerCTA}},\ (\textcolor{keywordtype}{int})\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}});}
\DoxyCodeLine{01290\ }
\DoxyCodeLine{01291\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxSmemUsagePerCTA}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{staticSmemSize}}\ +\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>maxDynamicSharedSizeBytes;}
\DoxyCodeLine{01292\ }
\DoxyCodeLine{01293\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSizeExceeded}}\ =\ 0;}
\DoxyCodeLine{01294\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{totalSmemSizeExceeded}}\ \ \ =\ 0;}
\DoxyCodeLine{01295\ }
\DoxyCodeLine{01296\ \ \ \ \ \textcolor{comment}{//\ Obtain\ the\ user\ set\ maximum\ dynamic\ size\ if\ it\ exists}}
\DoxyCodeLine{01297\ \ \ \ \ \textcolor{comment}{//\ If\ so,\ the\ current\ launch\ dynamic\ shared\ memory\ must\ not}}
\DoxyCodeLine{01298\ \ \ \ \ \textcolor{comment}{//\ exceed\ the\ set\ limit}}
\DoxyCodeLine{01299\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>shmemLimitConfig\ !=\ FUNC\_SHMEM\_LIMIT\_DEFAULT\ \&\&}
\DoxyCodeLine{01300\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSize}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>maxDynamicSharedSizeBytes)\ \{}
\DoxyCodeLine{01301\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSizeExceeded}}\ =\ 1;}
\DoxyCodeLine{01302\ \ \ \ \ \}}
\DoxyCodeLine{01303\ }
\DoxyCodeLine{01304\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccSMemPerBlock(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerCTA}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>shmemLimitConfig,\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxSmemUsagePerCTA}});}
\DoxyCodeLine{01305\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01307\ \ \ \ \ \}}
\DoxyCodeLine{01308\ }
\DoxyCodeLine{01309\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerCTA}})\ \{}
\DoxyCodeLine{01310\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{totalSmemSizeExceeded}}\ =\ 1;}
\DoxyCodeLine{01311\ \ \ \ \ \}}
\DoxyCodeLine{01312\ }
\DoxyCodeLine{01313\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSizeExceeded}}\ ||\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{totalSmemSizeExceeded}})\ \{}
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ 0;}
\DoxyCodeLine{01315\ \ \ \ \ \}}
\DoxyCodeLine{01316\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01317\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ User\ requested\ shared\ memory\ limit\ is\ used\ as\ long\ as\ it\ is\ greater}}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ than\ the\ total\ shared\ memory\ used\ per\ CTA,\ i.e.\ as\ long\ as\ at\ least}}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ one\ CTA\ can\ be\ launched.}}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}}\ >=\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}})\ \{}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \ \ \ \ \ \ sharedMemPerMultiprocessor\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}};}
\DoxyCodeLine{01322\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01324\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ On\ Volta+,\ user\ requested\ shared\ memory\ will\ limit\ occupancy}}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ it's\ less\ than\ shared\ memory\ per\ CTA.\ Otherwise,\ the}}
\DoxyCodeLine{01326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ maximum\ shared\ memory\ limit\ is\ used.}}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor\ >=\ 7)\ \{}
\DoxyCodeLine{01328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sharedMemPerMultiprocessor\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}};}
\DoxyCodeLine{01329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccAlignUpShmemSizeVoltaPlus(\&sharedMemPerMultiprocessor,\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01333\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01334\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sharedMemPerMultiprocessor\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerMultiprocessor;}
\DoxyCodeLine{01336\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01338\ }
\DoxyCodeLine{01339\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}}\ >\ 0)\ \{}
\DoxyCodeLine{01340\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{int}})(sharedMemPerMultiprocessor\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}});}
\DoxyCodeLine{01341\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01342\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{INT\_MAX}};}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01345\ \ \ \ \ \}}
\DoxyCodeLine{01346\ }
\DoxyCodeLine{01347\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>allocatedSharedMemPerBlock\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAllocatedPerCTA}};}
\DoxyCodeLine{01348\ }
\DoxyCodeLine{01349\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}};}
\DoxyCodeLine{01350\ }
\DoxyCodeLine{01351\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01352\ \}}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE}
\DoxyCodeLine{01355\ cudaOccError\ cudaOccMaxBlocksPerSMRegsLimit(}
\DoxyCodeLine{01356\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}},}
\DoxyCodeLine{01357\ \ \ \ \ cudaOccPartitionedGCConfig\ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}},}
\DoxyCodeLine{01358\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},}
\DoxyCodeLine{01359\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01360\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01361\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}})}
\DoxyCodeLine{01362\ \{}
\DoxyCodeLine{01363\ \ \ \ \ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01364\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}};}
\DoxyCodeLine{01365\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}};}
\DoxyCodeLine{01366\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerCTA}};}
\DoxyCodeLine{01367\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAssumedPerCTA}};}
\DoxyCodeLine{01368\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsPerWarp}};}
\DoxyCodeLine{01369\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerWarp}};}
\DoxyCodeLine{01370\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitions}};}
\DoxyCodeLine{01371\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numRegsPerSubPartition}};}
\DoxyCodeLine{01372\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSubPartition}};}
\DoxyCodeLine{01373\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSM}};}
\DoxyCodeLine{01374\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}};}
\DoxyCodeLine{01375\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxRegsPerThread}};}
\DoxyCodeLine{01376\ }
\DoxyCodeLine{01377\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccRegAllocationGranularity(}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}},}
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01380\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01381\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01382\ \ \ \ \ \}}
\DoxyCodeLine{01383\ }
\DoxyCodeLine{01384\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccRegAllocationMaxPerThread(}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxRegsPerThread}},}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01387\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01388\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01389\ \ \ \ \ \}}
\DoxyCodeLine{01390\ }
\DoxyCodeLine{01391\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccSubPartitionsPerMultiprocessor(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitions}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01392\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01393\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01394\ \ \ \ \ \}}
\DoxyCodeLine{01395\ }
\DoxyCodeLine{01396\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}}\ =\ \_\_occDivideRoundUp(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>warpSize);}
\DoxyCodeLine{01397\ }
\DoxyCodeLine{01398\ \ \ \ \ \textcolor{comment}{//\ GPUs\ of\ compute\ capability\ 2.x\ and\ higher\ allocate\ registers\ to\ warps}}
\DoxyCodeLine{01399\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01400\ \ \ \ \ \textcolor{comment}{//\ Number\ of\ regs\ per\ warp\ is\ regs\ per\ thread\ x\ warp\ size,\ rounded\ up\ to}}
\DoxyCodeLine{01401\ \ \ \ \ \textcolor{comment}{//\ register\ allocation\ granularity}}
\DoxyCodeLine{01402\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01403\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsPerWarp}}\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>numRegs\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>warpSize;}
\DoxyCodeLine{01404\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerWarp}}\ =\ \_\_occRoundUp(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsPerWarp}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}});}
\DoxyCodeLine{01405\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerCTA}}\ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerWarp}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}};}
\DoxyCodeLine{01406\ }
\DoxyCodeLine{01407\ \ \ \ \ \textcolor{comment}{//\ Hardware\ verifies\ if\ a\ launch\ fits\ the\ per-\/CTA\ register\ limit.\ For}}
\DoxyCodeLine{01408\ \ \ \ \ \textcolor{comment}{//\ historical\ reasons,\ the\ verification\ logic\ assumes\ register}}
\DoxyCodeLine{01409\ \ \ \ \ \textcolor{comment}{//\ allocations\ are\ made\ to\ all\ partitions\ simultaneously.\ Therefore,\ to}}
\DoxyCodeLine{01410\ \ \ \ \ \textcolor{comment}{//\ simulate\ the\ hardware\ check,\ the\ warp\ allocation\ needs\ to\ be\ rounded}}
\DoxyCodeLine{01411\ \ \ \ \ \textcolor{comment}{//\ up\ to\ the\ number\ of\ partitions.}}
\DoxyCodeLine{01412\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01413\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAssumedPerCTA}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerWarp}}\ *\ \_\_occRoundUp(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitions}});}
\DoxyCodeLine{01414\ }
\DoxyCodeLine{01415\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>regsPerBlock\ <\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAssumedPerCTA}}\ ||\ \ \ \textcolor{comment}{//\ Hardware\ check}}
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>regsPerBlock\ <\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerCTA}}\ ||\ \textcolor{comment}{//\ Software\ check}}
\DoxyCodeLine{01417\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>numRegs\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxRegsPerThread}})\ \{\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Per\ thread\ limit\ check}}
\DoxyCodeLine{01418\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ 0;}
\DoxyCodeLine{01419\ \ \ \ \ \}}
\DoxyCodeLine{01420\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01421\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerWarp}}\ >\ 0)\ \{}
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Registers\ are\ allocated\ in\ each\ sub-\/partition.\ The\ max\ number}}
\DoxyCodeLine{01423\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ warps\ that\ can\ fit\ on\ an\ SM\ is\ equal\ to\ the\ max\ number\ of}}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ warps\ per\ sub-\/partition\ x\ number\ of\ sub-\/partitions.}}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numRegsPerSubPartition}}\ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>regsPerMultiprocessor\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitions}};}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSubPartition}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numRegsPerSubPartition}}\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerWarp}};}
\DoxyCodeLine{01428\ }
\DoxyCodeLine{01429\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ 0;}
\DoxyCodeLine{01430\ }
\DoxyCodeLine{01431\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ !=\ PARTITIONED\_GC\_OFF)\ \{}
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitionsPerSmPartition}};}
\DoxyCodeLine{01433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSmPartition}};}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocksPerSmPartition}};}
\DoxyCodeLine{01435\ }
\DoxyCodeLine{01436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ partitioned\ global\ caching\ is\ on,\ then\ a\ CTA\ can\ only}}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ use\ a\ half\ SM,\ and\ thus\ a\ half\ of\ the\ registers\ available}}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ per\ SM}}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitionsPerSmPartition}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitions}}\ /\ 2;}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSmPartition}}\ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSubPartition}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitionsPerSmPartition}};}
\DoxyCodeLine{01442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocksPerSmPartition}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSmPartition}}\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}};}
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocksPerSmPartition}}\ *\ 2;}
\DoxyCodeLine{01444\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01445\ }
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Try\ again\ if\ partitioned\ global\ caching\ is\ not\ enabled,\ or\ if}}
\DoxyCodeLine{01447\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ CTA\ cannot\ fit\ on\ the\ SM\ with\ caching\ on\ (maxBlocks\ ==\ 0).\ \ In\ the\ latter}}
\DoxyCodeLine{01448\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ case,\ the\ device\ will\ automatically\ turn\ off\ caching,\ except}}
\DoxyCodeLine{01449\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ user\ forces\ enablement\ via\ PARTITIONED\_GC\_ON\_STRICT\ to\ calculate}}
\DoxyCodeLine{01450\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ occupancy\ and\ launch\ configuration.}}
\DoxyCodeLine{01451\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01452\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ ==\ 0\ \&\&\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ !=\ PARTITIONED\_GC\_ON\_STRICT)\ \{}
\DoxyCodeLine{01453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ case\ *gcConfig\ was\ PARTITIONED\_GC\_ON\ flip\ it\ OFF\ since}}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ what\ it\ will\ be\ if\ we\ spread\ CTA\ across\ partitions.}}
\DoxyCodeLine{01455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ =\ PARTITIONED\_GC\_OFF;}
\DoxyCodeLine{01457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSM}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSubPartition}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numSubPartitions}};}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numWarpsPerSM}}\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{warpsAllocatedPerCTA}};}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01460\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01461\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01462\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{INT\_MAX}};}
\DoxyCodeLine{01463\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01464\ \ \ \ \ \}}
\DoxyCodeLine{01465\ }
\DoxyCodeLine{01466\ }
\DoxyCodeLine{01467\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>allocatedRegistersPerBlock\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{regsAllocatedPerCTA}};}
\DoxyCodeLine{01468\ }
\DoxyCodeLine{01469\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{limit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlocks}};}
\DoxyCodeLine{01470\ }
\DoxyCodeLine{01471\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01472\ \}}
\DoxyCodeLine{01473\ }
\DoxyCodeLine{01475\ \textcolor{comment}{//\ \ \ \ \ \ API\ Implementations\ \ \ \ \ \ //}}
\DoxyCodeLine{01477\ }
\DoxyCodeLine{01478\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE}
\DoxyCodeLine{01479\ cudaOccError\ cudaOccMaxActiveBlocksPerMultiprocessor(}
\DoxyCodeLine{01480\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},}
\DoxyCodeLine{01481\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01482\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01483\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01484\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},}
\DoxyCodeLine{01485\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSize}})}
\DoxyCodeLine{01486\ \{}
\DoxyCodeLine{01487\ \ \ \ \ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ \ \ \ \ \ \ \ \ \ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01488\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitWarps}}\ \ \ =\ 0;}
\DoxyCodeLine{01489\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitBlocks}}\ \ =\ 0;}
\DoxyCodeLine{01490\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitSMem}}\ \ \ \ =\ 0;}
\DoxyCodeLine{01491\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegs}}\ \ \ \ =\ 0;}
\DoxyCodeLine{01492\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimit}}\ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{01493\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ limitingFactors\ =\ 0;}
\DoxyCodeLine{01494\ \ \ \ \ }
\DoxyCodeLine{01495\ \ \ \ \ cudaOccPartitionedGCConfig\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ =\ PARTITIONED\_GC\_OFF;}
\DoxyCodeLine{01496\ }
\DoxyCodeLine{01497\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}}\ ||\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}}\ <=\ 0)\ \{}
\DoxyCodeLine{01498\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{01499\ \ \ \ \ \}}
\DoxyCodeLine{01500\ }
\DoxyCodeLine{01502\ \ \ \ \ \textcolor{comment}{//\ Check\ user\ input}}
\DoxyCodeLine{01504\ }
\DoxyCodeLine{01505\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccInputCheck(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01506\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01507\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01508\ \ \ \ \ \}}
\DoxyCodeLine{01509\ }
\DoxyCodeLine{01511\ \ \ \ \ \textcolor{comment}{//\ Initialization}}
\DoxyCodeLine{01513\ }
\DoxyCodeLine{01514\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}}\ =\ cudaOccPartitionedGCExpected(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}});}
\DoxyCodeLine{01515\ }
\DoxyCodeLine{01517\ \ \ \ \ \textcolor{comment}{//\ Compute\ occupancy}}
\DoxyCodeLine{01519\ }
\DoxyCodeLine{01520\ \ \ \ \ \textcolor{comment}{//\ Limits\ due\ to\ registers/SM}}
\DoxyCodeLine{01521\ \ \ \ \ \textcolor{comment}{//\ Also\ compute\ if\ partitioned\ global\ caching\ has\ to\ be\ turned\ off}}
\DoxyCodeLine{01522\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01523\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxBlocksPerSMRegsLimit(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegs}},\ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}});}
\DoxyCodeLine{01524\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01525\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01526\ \ \ \ \ \}}
\DoxyCodeLine{01527\ }
\DoxyCodeLine{01528\ \ \ \ \ \textcolor{comment}{//\ SMs\ on\ GP100\ (6.0)\ have\ 2\ subpartitions,\ while\ those\ on\ GP10x\ have\ 4.}}
\DoxyCodeLine{01529\ \ \ \ \ \textcolor{comment}{//\ As\ a\ result,\ an\ SM\ on\ GP100\ may\ be\ able\ to\ run\ more\ CTAs\ than\ the\ one\ on\ GP10x.}}
\DoxyCodeLine{01530\ \ \ \ \ \textcolor{comment}{//\ For\ forward\ compatibility\ within\ Pascal\ family,\ if\ a\ function\ cannot\ run\ on\ GP10x\ (maxBlock\ ==\ 0),}}
\DoxyCodeLine{01531\ \ \ \ \ \textcolor{comment}{//\ we\ do\ not\ let\ it\ run\ on\ any\ Pascal\ processor,\ even\ though\ it\ may\ be\ able\ to\ run\ on\ GP100.}}
\DoxyCodeLine{01532\ \ \ \ \ \textcolor{comment}{//\ Therefore,\ we\ check\ the\ occupancy\ on\ GP10x\ when\ it\ can\ run\ on\ GP100}}
\DoxyCodeLine{01533\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01534\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMajor\ ==\ 6\ \&\&\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>computeMinor\ ==\ 0\ \&\&\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegs}})\ \{}
\DoxyCodeLine{01535\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{propertiesGP10x}};}
\DoxyCodeLine{01536\ \ \ \ \ \ \ \ \ cudaOccPartitionedGCConfig\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfigGP10x}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}};}
\DoxyCodeLine{01537\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegsGP10x}}\ =\ 0;}
\DoxyCodeLine{01538\ }
\DoxyCodeLine{01539\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ up\ properties\ for\ GP10x}}
\DoxyCodeLine{01540\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{memcpy}}(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{propertiesGP10x}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{propertiesGP10x}}));}
\DoxyCodeLine{01541\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{propertiesGP10x}}.computeMinor\ =\ 1;}
\DoxyCodeLine{01542\ }
\DoxyCodeLine{01543\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxBlocksPerSMRegsLimit(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegsGP10x}},\ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfigGP10x}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},\ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{propertiesGP10x}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}});}
\DoxyCodeLine{01544\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01545\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01547\ }
\DoxyCodeLine{01548\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegsGP10x}}\ ==\ 0)\ \{}
\DoxyCodeLine{01549\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegs}}\ =\ 0;}
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01551\ \ \ \ \ \}}
\DoxyCodeLine{01552\ }
\DoxyCodeLine{01553\ \ \ \ \ \textcolor{comment}{//\ Limits\ due\ to\ warps/SM}}
\DoxyCodeLine{01554\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01555\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxBlocksPerSMWarpsLimit(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitWarps}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}});}
\DoxyCodeLine{01556\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01557\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01558\ \ \ \ \ \}}
\DoxyCodeLine{01559\ }
\DoxyCodeLine{01560\ \ \ \ \ \textcolor{comment}{//\ Limits\ due\ to\ blocks/SM}}
\DoxyCodeLine{01561\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01562\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxBlocksPerMultiprocessor(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitBlocks}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01563\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01564\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01565\ \ \ \ \ \}}
\DoxyCodeLine{01566\ }
\DoxyCodeLine{01567\ \ \ \ \ \textcolor{comment}{//\ Limits\ due\ to\ shared\ memory/SM}}
\DoxyCodeLine{01568\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01569\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxBlocksPerSMSmemLimit(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitSMem}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSmemSize}});}
\DoxyCodeLine{01570\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01572\ \ \ \ \ \}}
\DoxyCodeLine{01573\ }
\DoxyCodeLine{01575\ \ \ \ \ \textcolor{comment}{//\ Overall\ occupancy}}
\DoxyCodeLine{01577\ }
\DoxyCodeLine{01578\ \ \ \ \ \textcolor{comment}{//\ Overall\ limit\ is\ min()\ of\ limits\ due\ to\ above\ reasons}}
\DoxyCodeLine{01579\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01580\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimit}}\ =\ \_\_occMin(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegs}},\ \_\_occMin(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitSMem}},\ \_\_occMin(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitWarps}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitBlocks}})));}
\DoxyCodeLine{01581\ }
\DoxyCodeLine{01582\ \ \ \ \ \textcolor{comment}{//\ Fill\ in\ the\ return\ values}}
\DoxyCodeLine{01583\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01584\ \ \ \ \ \textcolor{comment}{//\ Determine\ occupancy\ limiting\ factors}}
\DoxyCodeLine{01585\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01586\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimit}}\ ==\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitWarps}})\ \{}
\DoxyCodeLine{01587\ \ \ \ \ \ \ \ \ limitingFactors\ |=\ OCC\_LIMIT\_WARPS;}
\DoxyCodeLine{01588\ \ \ \ \ \}}
\DoxyCodeLine{01589\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimit}}\ ==\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegs}})\ \{}
\DoxyCodeLine{01590\ \ \ \ \ \ \ \ \ limitingFactors\ |=\ OCC\_LIMIT\_REGISTERS;}
\DoxyCodeLine{01591\ \ \ \ \ \}}
\DoxyCodeLine{01592\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimit}}\ ==\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitSMem}})\ \{}
\DoxyCodeLine{01593\ \ \ \ \ \ \ \ \ limitingFactors\ |=\ OCC\_LIMIT\_SHARED\_MEMORY;}
\DoxyCodeLine{01594\ \ \ \ \ \}}
\DoxyCodeLine{01595\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimit}}\ ==\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitBlocks}})\ \{}
\DoxyCodeLine{01596\ \ \ \ \ \ \ \ \ limitingFactors\ |=\ OCC\_LIMIT\_BLOCKS;}
\DoxyCodeLine{01597\ \ \ \ \ \}}
\DoxyCodeLine{01598\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>limitingFactors\ =\ limitingFactors;}
\DoxyCodeLine{01599\ }
\DoxyCodeLine{01600\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>blockLimitRegs\ \ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitRegs}};}
\DoxyCodeLine{01601\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>blockLimitSharedMem\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitSMem}};}
\DoxyCodeLine{01602\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>blockLimitWarps\ \ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitWarps}};}
\DoxyCodeLine{01603\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>blockLimitBlocks\ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimitBlocks}};}
\DoxyCodeLine{01604\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>partitionedGCConfig\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{gcConfig}};}
\DoxyCodeLine{01605\ }
\DoxyCodeLine{01606\ \ \ \ \ \textcolor{comment}{//\ Final\ occupancy}}
\DoxyCodeLine{01607\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}-\/>activeBlocksPerMultiprocessor\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{ctaLimit}};}
\DoxyCodeLine{01608\ }
\DoxyCodeLine{01609\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01610\ \}}
\DoxyCodeLine{01611\ }
\DoxyCodeLine{01612\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE}
\DoxyCodeLine{01613\ cudaOccError\ cudaOccAvailableDynamicSMemPerBlock(}
\DoxyCodeLine{01614\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{bytesAvailable}},}
\DoxyCodeLine{01615\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01616\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01617\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01618\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}},}
\DoxyCodeLine{01619\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}})}
\DoxyCodeLine{01620\ \{}
\DoxyCodeLine{01621\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}};}
\DoxyCodeLine{01622\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerBlock}};}
\DoxyCodeLine{01623\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}};}
\DoxyCodeLine{01624\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}}\ =\ 0;}
\DoxyCodeLine{01625\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sharedMemPerMultiprocessor;}
\DoxyCodeLine{01626\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}};}
\DoxyCodeLine{01627\ \ \ \ \ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01628\ }
\DoxyCodeLine{01629\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ <=\ 0)}
\DoxyCodeLine{01630\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{01631\ }
\DoxyCodeLine{01632\ \ \ \ \ \textcolor{comment}{//\ First\ compute\ occupancy\ of\ potential\ kernel\ launch.}}
\DoxyCodeLine{01633\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01634\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxActiveBlocksPerMultiprocessor(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},\ 0);}
\DoxyCodeLine{01635\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01636\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01637\ \ \ \ \ \}}
\DoxyCodeLine{01638\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ occupancy\ is\ achievable\ given\ user\ requested\ number\ of\ blocks.\ }}
\DoxyCodeLine{01639\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01640\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}.activeBlocksPerMultiprocessor\ <\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}})\ \{}
\DoxyCodeLine{01641\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{01642\ \ \ \ \ \}}
\DoxyCodeLine{01643\ }
\DoxyCodeLine{01644\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccSMemAllocationGranularity(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01645\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01646\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01647\ \ \ \ \ \}}
\DoxyCodeLine{01648\ }
\DoxyCodeLine{01649\ \ \ \ \ \textcolor{comment}{//\ Return\ the\ per\ block\ shared\ memory\ limit\ based\ on\ function\ config.}}
\DoxyCodeLine{01650\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01651\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccSMemPerBlock(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerBlock}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>shmemLimitConfig,\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>sharedMemPerMultiprocessor);}
\DoxyCodeLine{01652\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01653\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01654\ \ \ \ \ \}}
\DoxyCodeLine{01655\ }
\DoxyCodeLine{01656\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ only\ a\ single\ block\ needed\ per\ SM,\ then\ the\ user\ preference\ can\ be\ ignored\ and\ the\ fully\ SW}}
\DoxyCodeLine{01657\ \ \ \ \ \textcolor{comment}{//\ limit\ is\ allowed\ to\ be\ used\ as\ shared\ memory\ otherwise\ if\ more\ than\ one\ block\ is\ needed,\ then\ the\ user}}
\DoxyCodeLine{01658\ \ \ \ \ \textcolor{comment}{//\ preference\ sets\ the\ total\ limit\ of\ available\ shared\ memory.}}
\DoxyCodeLine{01659\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01660\ \ \ \ \ cudaOccSMemPerMultiprocessor(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01661\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ ==\ 1)\ \{}
\DoxyCodeLine{01662\ \ \ \ \ \ \ \ \ sharedMemPerMultiprocessor\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerBlock}};}
\DoxyCodeLine{01663\ \ \ \ \ \}}
\DoxyCodeLine{01664\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01665\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}})\ \{}
\DoxyCodeLine{01666\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}}\ =\ 1\ ;}
\DoxyCodeLine{01667\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccAlignUpShmemSizeVoltaPlus(\&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}});}
\DoxyCodeLine{01668\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01669\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01670\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01671\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01672\ \ \ \ \ \ \ \ \ sharedMemPerMultiprocessor\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{userSmemPreference}};}
\DoxyCodeLine{01673\ \ \ \ \ \}}
\DoxyCodeLine{01674\ }
\DoxyCodeLine{01675\ \ \ \ \ \textcolor{comment}{//\ Compute\ total\ shared\ memory\ available\ per\ SM}}
\DoxyCodeLine{01676\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01677\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ =\ \ sharedMemPerMultiprocessor\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}};}
\DoxyCodeLine{01678\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ =\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ /\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}})\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{allocationGranularity}};}
\DoxyCodeLine{01679\ }
\DoxyCodeLine{01680\ \ \ \ \ \textcolor{comment}{//\ Cap\ shared\ memory}}
\DoxyCodeLine{01681\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01682\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerBlock}})\ \{}
\DoxyCodeLine{01683\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemLimitPerBlock}};}
\DoxyCodeLine{01684\ \ \ \ \ \}}
\DoxyCodeLine{01685\ }
\DoxyCodeLine{01686\ \ \ \ \ \textcolor{comment}{//\ Now\ compute\ dynamic\ shared\ memory\ size}}
\DoxyCodeLine{01687\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ -\/\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>sharedSizeBytes;\ }
\DoxyCodeLine{01688\ }
\DoxyCodeLine{01689\ \ \ \ \ \textcolor{comment}{//\ Cap\ computed\ dynamic\ SM\ by\ user\ requested\ limit\ specified\ via\ cuFuncSetAttribute()}}
\DoxyCodeLine{01690\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01691\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>maxDynamicSharedSizeBytes)}
\DoxyCodeLine{01692\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>maxDynamicSharedSizeBytes;}
\DoxyCodeLine{01693\ }
\DoxyCodeLine{01694\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{bytesAvailable}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{smemAvailableForDynamic}};}
\DoxyCodeLine{01695\ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01696\ \}}
\DoxyCodeLine{01697\ }
\DoxyCodeLine{01698\ \textcolor{keyword}{static}\ \_\_OCC\_INLINE}
\DoxyCodeLine{01699\ cudaOccError\ cudaOccMaxPotentialOccupancyBlockSize(}
\DoxyCodeLine{01700\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}},}
\DoxyCodeLine{01701\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},}
\DoxyCodeLine{01702\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01703\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01704\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01705\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToDynamicSMemSize}})(\textcolor{keywordtype}{int}),}
\DoxyCodeLine{01706\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}})}
\DoxyCodeLine{01707\ \{}
\DoxyCodeLine{01708\ \ \ \ \ cudaOccError\ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01709\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}};}
\DoxyCodeLine{01710\ }
\DoxyCodeLine{01711\ \ \ \ \ \textcolor{comment}{//\ Limits}}
\DoxyCodeLine{01712\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyLimit}};}
\DoxyCodeLine{01713\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}};}
\DoxyCodeLine{01714\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}};}
\DoxyCodeLine{01715\ }
\DoxyCodeLine{01716\ \ \ \ \ \textcolor{comment}{//\ Recorded\ maximum}}
\DoxyCodeLine{01717\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlockSize}}\ =\ 0;}
\DoxyCodeLine{01718\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ \ \ \ =\ 0;}
\DoxyCodeLine{01719\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}}\ =\ 0;}
\DoxyCodeLine{01720\ }
\DoxyCodeLine{01721\ \ \ \ \ \textcolor{comment}{//\ Temporary}}
\DoxyCodeLine{01722\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}};}
\DoxyCodeLine{01723\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}};}
\DoxyCodeLine{01724\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimitAligned}};}
\DoxyCodeLine{01725\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}};}
\DoxyCodeLine{01726\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}};}
\DoxyCodeLine{01727\ }
\DoxyCodeLine{01729\ \ \ \ \ \textcolor{comment}{//\ Check\ user\ input}}
\DoxyCodeLine{01731\ }
\DoxyCodeLine{01732\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}})\ \{}
\DoxyCodeLine{01733\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{01734\ \ \ \ \ \}}
\DoxyCodeLine{01735\ }
\DoxyCodeLine{01736\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccInputCheck(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01737\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01738\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01739\ \ \ \ \ \}}
\DoxyCodeLine{01740\ }
\DoxyCodeLine{01742\ \ \ \ \ \textcolor{comment}{//\ Try\ each\ block\ size,\ and\ pick\ the\ block\ size\ with\ maximum\ occupancy}}
\DoxyCodeLine{01744\ }
\DoxyCodeLine{01745\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyLimit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerMultiprocessor;}
\DoxyCodeLine{01746\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}}\ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>warpSize;}
\DoxyCodeLine{01747\ }
\DoxyCodeLine{01748\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}}\ \ \ \ \ \ \ \ =\ \_\_occMin(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerBlock,\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>maxThreadsPerBlock);}
\DoxyCodeLine{01749\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimitAligned}}\ =\ \_\_occRoundUp(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}});}
\DoxyCodeLine{01750\ }
\DoxyCodeLine{01751\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimitAligned}};\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}}\ >\ 0;\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}}\ -\/=\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}})\ \{}
\DoxyCodeLine{01752\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}}\ =\ \_\_occMin(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}});}
\DoxyCodeLine{01753\ }
\DoxyCodeLine{01754\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Ignore\ dynamicSMemSize\ if\ the\ user\ provides\ a\ mapping}}
\DoxyCodeLine{01755\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01756\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToDynamicSMemSize}})\ \{}
\DoxyCodeLine{01757\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}}\ =\ (*blockSizeToDynamicSMemSize)(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}});}
\DoxyCodeLine{01758\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01759\ }
\DoxyCodeLine{01760\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxActiveBlocksPerMultiprocessor(}
\DoxyCodeLine{01761\ \ \ \ \ \ \ \ \ \ \ \ \ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},}
\DoxyCodeLine{01762\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01763\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01764\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01765\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}},}
\DoxyCodeLine{01766\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}});}
\DoxyCodeLine{01767\ }
\DoxyCodeLine{01768\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01769\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01770\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01771\ }
\DoxyCodeLine{01772\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}.activeBlocksPerMultiprocessor;}
\DoxyCodeLine{01773\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}};}
\DoxyCodeLine{01774\ }
\DoxyCodeLine{01775\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}})\ \{}
\DoxyCodeLine{01776\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlockSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}};}
\DoxyCodeLine{01777\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}};}
\DoxyCodeLine{01778\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}};}
\DoxyCodeLine{01779\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01780\ }
\DoxyCodeLine{01781\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Early\ out\ if\ we\ have\ reached\ the\ maximum}}
\DoxyCodeLine{01782\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01783\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyLimit}}\ ==\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}})\ \{}
\DoxyCodeLine{01784\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01785\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01786\ \ \ \ \ \}}
\DoxyCodeLine{01787\ }
\DoxyCodeLine{01789\ \ \ \ \ \textcolor{comment}{//\ Return\ best\ available}}
\DoxyCodeLine{01791\ }
\DoxyCodeLine{01792\ \ \ \ \ \textcolor{comment}{//\ Suggested\ min\ grid\ size\ to\ achieve\ a\ full\ machine\ launch}}
\DoxyCodeLine{01793\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01794\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>numSms;}
\DoxyCodeLine{01795\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlockSize}};}
\DoxyCodeLine{01796\ }
\DoxyCodeLine{01797\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01798\ \}}
\DoxyCodeLine{01799\ }
\DoxyCodeLine{01800\ }
\DoxyCodeLine{01801\ \textcolor{preprocessor}{\#if\ defined(\_\_cplusplus)}}
\DoxyCodeLine{01802\ }
\DoxyCodeLine{01803\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{01804\ }
\DoxyCodeLine{01805\ \_\_OCC\_INLINE}
\DoxyCodeLine{01806\ cudaOccError\ cudaOccMaxPotentialOccupancyBlockSize(}
\DoxyCodeLine{01807\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}},}
\DoxyCodeLine{01808\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},}
\DoxyCodeLine{01809\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01810\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01811\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01812\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}})}
\DoxyCodeLine{01813\ \{}
\DoxyCodeLine{01814\ \ \ \ \ \textcolor{keywordflow}{return}\ cudaOccMaxPotentialOccupancyBlockSize(}
\DoxyCodeLine{01815\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}},}
\DoxyCodeLine{01816\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},}
\DoxyCodeLine{01817\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01818\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01819\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01820\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{NULL}},}
\DoxyCodeLine{01821\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}});}
\DoxyCodeLine{01822\ \}}
\DoxyCodeLine{01823\ }
\DoxyCodeLine{01824\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UnaryFunction>}
\DoxyCodeLine{01825\ \_\_OCC\_INLINE}
\DoxyCodeLine{01826\ cudaOccError\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{cudaOccMaxPotentialOccupancyBlockSizeVariableSMem}}(}
\DoxyCodeLine{01827\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}},}
\DoxyCodeLine{01828\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}},}
\DoxyCodeLine{01829\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_prop}{cudaOccDeviceProp}}\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01830\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_func_attributes}{cudaOccFuncAttributes}}\ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01831\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcuda_occ_device_state}{cudaOccDeviceState}}\ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01832\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{UnaryFunction}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToDynamicSMemSize}})}
\DoxyCodeLine{01833\ \{}
\DoxyCodeLine{01834\ \ \ \ \ cudaOccError\ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ CUDA\_OCC\_SUCCESS;}
\DoxyCodeLine{01835\ \ \ \ \ \mbox{\hyperlink{structcuda_occ_result}{cudaOccResult}}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}};}
\DoxyCodeLine{01836\ }
\DoxyCodeLine{01837\ \ \ \ \ \textcolor{comment}{//\ Limits}}
\DoxyCodeLine{01838\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyLimit}};}
\DoxyCodeLine{01839\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}};}
\DoxyCodeLine{01840\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}};}
\DoxyCodeLine{01841\ }
\DoxyCodeLine{01842\ \ \ \ \ \textcolor{comment}{//\ Recorded\ maximum}}
\DoxyCodeLine{01843\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlockSize}}\ =\ 0;}
\DoxyCodeLine{01844\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ \ \ \ =\ 0;}
\DoxyCodeLine{01845\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}}\ =\ 0;}
\DoxyCodeLine{01846\ }
\DoxyCodeLine{01847\ \ \ \ \ \textcolor{comment}{//\ Temporary}}
\DoxyCodeLine{01848\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}};}
\DoxyCodeLine{01849\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}};}
\DoxyCodeLine{01850\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimitAligned}};}
\DoxyCodeLine{01851\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}};}
\DoxyCodeLine{01852\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}};}
\DoxyCodeLine{01853\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}};}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01856\ \ \ \ \ \textcolor{comment}{//\ Check\ user\ input}}
\DoxyCodeLine{01858\ }
\DoxyCodeLine{01859\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}\ ||\ !\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}})\ \{}
\DoxyCodeLine{01860\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CUDA\_OCC\_ERROR\_INVALID\_INPUT;}
\DoxyCodeLine{01861\ \ \ \ \ \}}
\DoxyCodeLine{01862\ }
\DoxyCodeLine{01863\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccInputCheck(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}});}
\DoxyCodeLine{01864\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01865\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01866\ \ \ \ \ \}}
\DoxyCodeLine{01867\ }
\DoxyCodeLine{01869\ \ \ \ \ \textcolor{comment}{//\ Try\ each\ block\ size,\ and\ pick\ the\ block\ size\ with\ maximum\ occupancy}}
\DoxyCodeLine{01871\ }
\DoxyCodeLine{01872\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyLimit}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerMultiprocessor;}
\DoxyCodeLine{01873\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}}\ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>warpSize;}
\DoxyCodeLine{01874\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}}\ \ \ \ \ \ \ \ =\ \_\_occMin(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>maxThreadsPerBlock,\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}}-\/>maxThreadsPerBlock);}
\DoxyCodeLine{01875\ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimitAligned}}\ =\ \_\_occRoundUp(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}});}
\DoxyCodeLine{01876\ }
\DoxyCodeLine{01877\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimitAligned}};\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}}\ >\ 0;\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}}\ -\/=\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{granularity}})\ \{}
\DoxyCodeLine{01878\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}}\ =\ \_\_occMin(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeLimit}},\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTryAligned}});}
\DoxyCodeLine{01879\ }
\DoxyCodeLine{01880\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToDynamicSMemSize}}(\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}});}
\DoxyCodeLine{01881\ }
\DoxyCodeLine{01882\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ =\ cudaOccMaxActiveBlocksPerMultiprocessor(}
\DoxyCodeLine{01883\ \ \ \ \ \ \ \ \ \ \ \ \ \&\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}},}
\DoxyCodeLine{01884\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}},}
\DoxyCodeLine{01885\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{attributes}},}
\DoxyCodeLine{01886\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{state}},}
\DoxyCodeLine{01887\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}},}
\DoxyCodeLine{01888\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{dynamicSMemSize}});}
\DoxyCodeLine{01889\ }
\DoxyCodeLine{01890\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}}\ !=\ CUDA\_OCC\_SUCCESS)\ \{}
\DoxyCodeLine{01891\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01892\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01893\ }
\DoxyCodeLine{01894\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{result}}.activeBlocksPerMultiprocessor;}
\DoxyCodeLine{01895\ }
\DoxyCodeLine{01896\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}};}
\DoxyCodeLine{01897\ }
\DoxyCodeLine{01898\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}}\ >\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}})\ \{}
\DoxyCodeLine{01899\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlockSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSizeToTry}};}
\DoxyCodeLine{01900\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ \ \ \ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInBlocks}};}
\DoxyCodeLine{01901\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyInThreads}};}
\DoxyCodeLine{01902\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01903\ }
\DoxyCodeLine{01904\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Early\ out\ if\ we\ have\ reached\ the\ maximum}}
\DoxyCodeLine{01905\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01906\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{occupancyLimit}}\ ==\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxOccupancy}})\ \{}
\DoxyCodeLine{01907\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01908\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01909\ \ \ \ \ \}}
\DoxyCodeLine{01910\ }
\DoxyCodeLine{01912\ \ \ \ \ \textcolor{comment}{//\ Return\ best\ available}}
\DoxyCodeLine{01914\ }
\DoxyCodeLine{01915\ \ \ \ \ \textcolor{comment}{//\ Suggested\ min\ grid\ size\ to\ achieve\ a\ full\ machine\ launch}}
\DoxyCodeLine{01916\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01917\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{minGridSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{numBlocks}}\ *\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{properties}}-\/>numSms;}
\DoxyCodeLine{01918\ \ \ \ \ *\mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{blockSize}}\ =\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{maxBlockSize}};}
\DoxyCodeLine{01919\ }
\DoxyCodeLine{01920\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t_ga91840d654e4a4ffb86e9b2fd793e9196}{status}};}
\DoxyCodeLine{01921\ \}}
\DoxyCodeLine{01922\ }
\DoxyCodeLine{01923\ \}\ \textcolor{comment}{//\ namespace\ anonymous}}
\DoxyCodeLine{01924\ }
\DoxyCodeLine{01925\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\_\_cplusplus\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{01926\ }
\DoxyCodeLine{01927\ \textcolor{preprocessor}{\#undef\ \_\_OCC\_INLINE}}
\DoxyCodeLine{01928\ }
\DoxyCodeLine{01929\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\_\_cuda\_occupancy\_h\_\_*/}\textcolor{preprocessor}{}}

\end{DoxyCode}
