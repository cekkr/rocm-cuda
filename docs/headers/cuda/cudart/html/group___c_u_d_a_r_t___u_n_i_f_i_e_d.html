<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Unified Addressing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Unified Addressing</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafdc25be0be9b7eed05fa659b80bd82e9" id="r_gafdc25be0be9b7eed05fa659b80bd82e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">__host__</a> <a class="el" href="group___c_u_d_a_r_t___t_y_p_e_s.html#ga15962a7f6f36e86b4041cd482f69ff10">cudaError_t</a> <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">CUDARTAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafdc25be0be9b7eed05fa659b80bd82e9">cudaPointerGetAttributes</a> (<a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">struct</a> <a class="el" href="structcuda_pointer_attributes.html">cudaPointerAttributes</a> *<a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">attributes</a>, <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">const</a> <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">void</a> *ptr)</td></tr>
<tr class="memdesc:gafdc25be0be9b7eed05fa659b80bd82e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns attributes about a specified pointer.  <br /></td></tr>
<tr class="separator:gafdc25be0be9b7eed05fa659b80bd82e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>___MANBRIEF___ unified addressing functions of the CUDA runtime API (___CURRENT_FILE___) ___ENDMANBRIEF___</p>
<p>This section describes the unified addressing functions of the CUDA runtime application programming interface.</p>
<h1><a class="anchor" id="CUDART_UNIFIED_overview"></a>
Overview</h1>
<p>CUDA devices can share a unified address space with the host. <br  />
 For these devices there is no distinction between a device pointer and a host pointer &ndash; the same pointer value may be used to access memory from the host program and from a kernel running on the device (with exceptions enumerated below).</p>
<h1><a class="anchor" id="CUDART_UNIFIED_support"></a>
Supported Platforms</h1>
<p>Whether or not a device supports unified addressing may be queried by calling <a class="el" href="group___c_u_d_a_r_t___d_e_v_i_c_e.html#ga3b5b6abf4a8eeabb2e3a4ca60a9d26d3" title="Returns information about the compute-device.">cudaGetDeviceProperties()</a> with the device property <a class="el" href="structcuda_device_prop.html#a07b0114cefb43da05e05c65ec859542c">cudaDeviceProp::unifiedAddressing</a>.</p>
<p>Unified addressing is automatically enabled in 64-bit processes .</p>
<h1><a class="anchor" id="CUDART_UNIFIED_lookup"></a>
Looking Up Information from Pointer Values</h1>
<p>It is possible to look up information about the memory which backs a pointer value. For instance, one may want to know if a pointer points to host or device memory. As another example, in the case of device memory, one may want to know on which CUDA device the memory resides. These properties may be queried using the function <a class="el" href="#gafdc25be0be9b7eed05fa659b80bd82e9" title="Returns attributes about a specified pointer.">cudaPointerGetAttributes()</a></p>
<p>Since pointers are unique, it is not necessary to specify information about the pointers specified to <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#gae2bbb87e03bde890140dae4b348e1886" title="Copies data between host and device.">cudaMemcpy()</a> and other copy functions. <br  />
 The copy direction <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196" title="Returns a channel descriptor using the specified format.">cudaMemcpyDefault</a> may be used to specify that the CUDA runtime should infer the location of the pointer from its value.</p>
<h1><a class="anchor" id="CUDART_UNIFIED_automaphost"></a>
Automatic Mapping of Host Allocated Host Memory</h1>
<p>All host memory allocated through all devices using <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#ga9319967aebbae316ea45f540f27974b7" title="Allocates page-locked memory on the host.">cudaMallocHost()</a> and <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#ga82f207b7718d36489753c35ad398a41a" title="Allocates page-locked memory on the host.">cudaHostAlloc()</a> is always directly accessible from all devices that support unified addressing. This is the case regardless of whether or not the flags <a class="el" href="group___c_u_d_a_r_t___t_y_p_e_s.html#gac46ce76be41cf79774331cc8cfceb52b">cudaHostAllocPortable</a> and <a class="el" href="group___c_u_d_a_r_t___t_y_p_e_s.html#ga01e600c738b962c8f973dda7708f7a70">cudaHostAllocMapped</a> are specified.</p>
<p>The pointer value through which allocated host memory may be accessed in kernels on all devices that support unified addressing is the same as the pointer value through which that memory is accessed on the host. It is not necessary to call <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#gac03e953b51e1011847c199286de44ac9" title="Passes back device pointer of mapped host memory allocated by cudaHostAlloc or registered by cudaHost...">cudaHostGetDevicePointer()</a> to get the device pointer for these allocations. <br  />
</p>
<p>Note that this is not the case for memory allocated using the flag <a class="el" href="group___c_u_d_a_r_t___t_y_p_e_s.html#ga3a7db37d02ce0b2350067ab639ef321c">cudaHostAllocWriteCombined</a>, as discussed below.</p>
<h1><a class="anchor" id="CUDART_UNIFIED_autopeerregister"></a>
Direct Access of Peer Memory</h1>
<p>Upon enabling direct access from a device that supports unified addressing to another peer device that supports unified addressing using <a class="el" href="group___c_u_d_a_r_t___p_e_e_r.html#ga7443ed162ccf7463a7caf15dc799cc6d" title="Enables direct access to memory allocations on a peer device.">cudaDeviceEnablePeerAccess()</a> all memory allocated in the peer device using <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#ga2ec57cea7c57e8e3c4beca43dd327134" title="Allocate memory on the device.">cudaMalloc()</a> and <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#gafba768d1a49ed27c0672832403544252" title="Allocates pitched memory on the device.">cudaMallocPitch()</a> will immediately be accessible by the current device. The device pointer value through which any peer's memory may be accessed in the current device is the same pointer value through which that memory may be accessed from the peer device.</p>
<h1><a class="anchor" id="CUDART_UNIFIED_exceptions"></a>
Exceptions, Disjoint Addressing</h1>
<p>Not all memory may be accessed on devices through the same pointer value through which they are accessed on the host. These exceptions are host memory registered using <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#gab14cbfaca14c4de9d06a5af14c9307f6" title="Registers an existing host memory range for use by CUDA.">cudaHostRegister()</a> and host memory allocated using the flag <a class="el" href="group___c_u_d_a_r_t___t_y_p_e_s.html#ga3a7db37d02ce0b2350067ab639ef321c">cudaHostAllocWriteCombined</a>. For these exceptions, there exists a distinct host and device address for the memory. The device address is guaranteed to not overlap any valid host pointer range and is guaranteed to have the same value across all devices that support unified addressing. <br  />
</p>
<p>This device address may be queried using <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#gac03e953b51e1011847c199286de44ac9" title="Passes back device pointer of mapped host memory allocated by cudaHostAlloc or registered by cudaHost...">cudaHostGetDevicePointer()</a> when a device using unified addressing is current. Either the host or the unified device pointer value may be used to refer to this memory in <a class="el" href="group___c_u_d_a_r_t___m_e_m_o_r_y.html#gae2bbb87e03bde890140dae4b348e1886" title="Copies data between host and device.">cudaMemcpy()</a> and similar functions using the <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196" title="Returns a channel descriptor using the specified format.">cudaMemcpyDefault</a> memory direction. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafdc25be0be9b7eed05fa659b80bd82e9" name="gafdc25be0be9b7eed05fa659b80bd82e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdc25be0be9b7eed05fa659b80bd82e9">&#9670;&#160;</a></span>cudaPointerGetAttributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">__host__</a> <a class="el" href="group___c_u_d_a_r_t___t_y_p_e_s.html#ga15962a7f6f36e86b4041cd482f69ff10">cudaError_t</a> <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">CUDARTAPI</a> cudaPointerGetAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">struct</a> <a class="el" href="structcuda_pointer_attributes.html">cudaPointerAttributes</a> *</td>          <td class="paramname"><span class="paramname"><em>attributes</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">const</a> <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196">void</a> *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns attributes about a specified pointer. </p>
<p>Returns in <code>*attributes</code> the attributes of the pointer <code>ptr</code>. If pointer was not allocated in, mapped by or registered with context supporting unified addressing cudaErrorInvalidValue is returned.</p>
<dl class="section note"><dt>Note</dt><dd>In CUDA 11.0 forward passing host pointer will return cudaMemoryTypeUnregistered in <a class="el" href="structcuda_pointer_attributes.html#a91ef95dac597cc710558dabbc8b9ae38">cudaPointerAttributes::type</a> and call will return cudaSuccess.</dd></dl>
<p>The <a class="el" href="structcuda_pointer_attributes.html">cudaPointerAttributes</a> structure is defined as: </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structcuda_pointer_attributes.html">cudaPointerAttributes</a> {</div>
<div class="line">    <span class="keyword">enum</span> <a class="code hl_variable" href="group___c_u_d_a_r_t___t_y_p_e_s.html#gaea66858c25bf81443785fcaf0e9b77c3">cudaMemoryType</a> <a class="code hl_variable" href="structcuda_pointer_attributes.html#a91ef95dac597cc710558dabbc8b9ae38">type</a>;</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcuda_pointer_attributes.html#a20015540684b0c85e0debf64923bedec">device</a>;</div>
<div class="line">    <span class="keywordtype">void</span> *<a class="code hl_variable" href="structcuda_pointer_attributes.html#a9edc9782e1ee337072994780fd3b675f">devicePointer</a>;</div>
<div class="line">    <span class="keywordtype">void</span> *<a class="code hl_variable" href="structcuda_pointer_attributes.html#a19cbae18cd685096287e41cce1c9a087">hostPointer</a>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___c_u_d_a_r_t___t_y_p_e_s_html_gaea66858c25bf81443785fcaf0e9b77c3"><div class="ttname"><a href="group___c_u_d_a_r_t___t_y_p_e_s.html#gaea66858c25bf81443785fcaf0e9b77c3">cudaMemoryType</a></div><div class="ttdeci">enum __device_builtin__ cudaMemoryType</div><div class="ttdef"><b>Definition</b> driver_types.h:1187</div></div>
<div class="ttc" id="astructcuda_pointer_attributes_html"><div class="ttname"><a href="structcuda_pointer_attributes.html">cudaPointerAttributes</a></div><div class="ttdef"><b>Definition</b> driver_types.h:1559</div></div>
<div class="ttc" id="astructcuda_pointer_attributes_html_a19cbae18cd685096287e41cce1c9a087"><div class="ttname"><a href="structcuda_pointer_attributes.html#a19cbae18cd685096287e41cce1c9a087">cudaPointerAttributes::hostPointer</a></div><div class="ttdeci">void * hostPointer</div><div class="ttdef"><b>Definition</b> driver_types.h:1590</div></div>
<div class="ttc" id="astructcuda_pointer_attributes_html_a20015540684b0c85e0debf64923bedec"><div class="ttname"><a href="structcuda_pointer_attributes.html#a20015540684b0c85e0debf64923bedec">cudaPointerAttributes::device</a></div><div class="ttdeci">int device</div><div class="ttdef"><b>Definition</b> driver_types.h:1575</div></div>
<div class="ttc" id="astructcuda_pointer_attributes_html_a91ef95dac597cc710558dabbc8b9ae38"><div class="ttname"><a href="structcuda_pointer_attributes.html#a91ef95dac597cc710558dabbc8b9ae38">cudaPointerAttributes::type</a></div><div class="ttdeci">enum cudaMemoryType type</div><div class="ttdef"><b>Definition</b> driver_types.h:1564</div></div>
<div class="ttc" id="astructcuda_pointer_attributes_html_a9edc9782e1ee337072994780fd3b675f"><div class="ttname"><a href="structcuda_pointer_attributes.html#a9edc9782e1ee337072994780fd3b675f">cudaPointerAttributes::devicePointer</a></div><div class="ttdeci">void * devicePointer</div><div class="ttdef"><b>Definition</b> driver_types.h:1581</div></div>
</div><!-- fragment --><p> In this structure, the individual fields mean</p>
<ul>
<li><a class="el" href="structcuda_pointer_attributes.html#a91ef95dac597cc710558dabbc8b9ae38">cudaPointerAttributes::type</a> identifies type of memory. It can be cudaMemoryTypeUnregistered for unregistered host memory, cudaMemoryTypeHost for registered host memory, cudaMemoryTypeDevice for device memory or <a class="el" href="group___c_u_d_a_r_t___t_e_x_t_u_r_e___o_b_j_e_c_t.html#ga91840d654e4a4ffb86e9b2fd793e9196" title="Returns a channel descriptor using the specified format.">cudaMemoryTypeManaged</a> for managed memory.</li>
<li><a class="el" href="structcuda_pointer_attributes.html#a20015540684b0c85e0debf64923bedec">device</a> is the device against which <code>ptr</code> was allocated. If <code>ptr</code> has memory type cudaMemoryTypeDevice then this identifies the device on which the memory referred to by <code>ptr</code> physically resides. If <code>ptr</code> has memory type cudaMemoryTypeHost then this identifies the device which was current when the allocation was made (and if that device is deinitialized then this allocation will vanish with that device's state).</li>
<li><a class="el" href="structcuda_pointer_attributes.html#a9edc9782e1ee337072994780fd3b675f">devicePointer</a> is the device pointer alias through which the memory referred to by <code>ptr</code> may be accessed on the current device. If the memory referred to by <code>ptr</code> cannot be accessed directly by the current device then this is NULL. <br  />
</li>
<li><a class="el" href="structcuda_pointer_attributes.html#a19cbae18cd685096287e41cce1c9a087">hostPointer</a> is the host pointer alias through which the memory referred to by <code>ptr</code> may be accessed on the host. If the memory referred to by <code>ptr</code> cannot be accessed directly by the host then this is NULL.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">attributes</td><td>- Attributes for the specified pointer </td></tr>
    <tr><td class="paramname">ptr</td><td>- Pointer to get attributes for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cudaSuccess, cudaErrorInvalidDevice, cudaErrorInvalidValue \note_init_rt \note_callback</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___c_u_d_a_r_t___d_e_v_i_c_e.html#ga5b0c57f32cb245582010c07e952753e6" title="Returns the number of compute-capable devices.">cudaGetDeviceCount</a>, <a class="el" href="group___c_u_d_a_r_t___d_e_v_i_c_e.html#ga33e2490308f833d7fc5edc76ad9c4416" title="Returns which device is currently being used.">cudaGetDevice</a>, <a class="el" href="group___c_u_d_a_r_t___d_e_v_i_c_e.html#ga7b63629909800b614427aae92b22d606" title="Set device to be used for GPU executions.">cudaSetDevice</a>, <a class="el" href="group___c_u_d_a_r_t___d_e_v_i_c_e.html#gaa6d5ae4a673c833a8d18fdab5dea3e70" title="Select compute-device which best matches criteria.">cudaChooseDevice</a>, <a class="el" href="group___c_u_d_a___u_n_i_f_i_e_d.html#ga386fc386cca447017a711e0b7d9871d5" title="Returns information about a pointer.">cuPointerGetAttributes</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
